(()=>{var e,t={864:(e,t,i)=>{"use strict";var r=i(260),n=i.n(r);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function c(e,t,i){return(t=p(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function l(e,t,i){return t&&u(e.prototype,t),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=b(e);if(t){var n=b(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return h(this,i)}}function h(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){f(i,e);var t=y(i);function i(e){var r,n=e.scene,a=e.x,o=e.y,c=e.image,u=e.name,l=(e.path,e.speed);return s(this,i),(r=t.call(this,n,a,o,c)).name=u||"anonymous",r.speed=l,r.image=c,r.instructions=[],n.physics.world.enable(m(r),0),n.add.existing(m(r)),r}return l(i,[{key:"update",value:function(){this.body.setVelocity(0),this.DoInstructions(),this.body&&0==this.body.velocity.x&&0==this.body.velocity.y&&this.anims.stop()}},{key:"ForceStop",value:function(){this.body.setVelocity(0),this.anims.stop()}},{key:"SetInstruction",value:function(e){e.action&&("walk"!=e.action||e.option)&&this.instructions.push(e)}},{key:"DoInstructions",value:function(){for(;this.instructions.length>0;){var e=this.instructions.pop();"walk"===e.action&&this.DoWalk(e.option)}}},{key:"DoWalk",value:function(e){switch(e){case"left":this.body.setVelocityX(-this.speed);break;case"right":this.body.setVelocityX(this.speed);break;case"back":this.body.setVelocityY(-this.speed);break;case"front":this.body.setVelocityY(this.speed)}this.body.velocity.normalize().scale(this.speed),this.body.velocity.y<0?this.anims.play(this.image+"-walk-back",!0):this.body.velocity.y>0?this.anims.play(this.image+"-walk-front",!0):this.body.velocity.x<0?this.anims.play(this.image+"-walk-left",!0):this.body.velocity.x>0&&this.anims.play(this.image+"-walk-right",!0)}}]),i}(n().GameObjects.Sprite),v=function(e){f(i,e);var t=y(i);function i(e){var r;return s(this,i),r=t.call(this,e),e.registerGameObject("character",r.createCharacter),r}return l(i,[{key:"createCharacter",value:function(e){return new g(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({scene:this.scene},e))}}]),i}(n().Plugins.BasePlugin);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==w(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===w(n)?n:String(n)),r)}var n}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function P(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(o,e);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(n){var i=j(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return P(this,e)});function o(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(i=a.call(this,e,t)).scene=e,i.systems=e.sys,i.borderThickness=3,i.borderColor=16777215,i.borderAlpha=.5,i.windowAlpha=.85,i.windowColor=0,i.windowHeight=200,i.padding=32,i.dialogSpeed=20,i.scrollFactor=0,i.visible=!1,i.graphics={background:null,text:null},i}return t=o,(i=[{key:"boot",value:function(){this._drawBackground(),this._drawText(),this.display(!1),this.systems.events.on("shutdown",this.shutdown,this)}},{key:"shutdown",value:function(){this.timedEvent&&this.timedEvent.remove(),this.graphics.text&&this.graphics.text.destroy()}},{key:"destroy",value:function(){this.shutdown(),this.scene=void 0}},{key:"display",value:function(e){this.visible=void 0===e?!this.visible:e,this.graphics.text&&(this.graphics.text.visible=this.visible),this.graphics.background&&(this.graphics.background.visible=this.visible)}},{key:"setText",value:function(e){var t=this;if(e&&e.split){this.timedEvent&&this.timedEvent.remove(),this.display(!0);var i=e.split("");this.graphics.text.setText(""),this.timedEvent=this.scene.time.addEvent({delay:150-30*this.dialogSpeed,callback:function(e){t.graphics.text.setText(t.graphics.text.text+e[t.graphics.text.text.length]),t.graphics.text.text.length===e.length&&t.timedEvent.remove()},args:[i],callbackScope:this,loop:!0})}}},{key:"_calculateWindowDimensions",value:function(){var e=this.scene.sys.game.config.height,t=this.scene.sys.game.config.width;return{x:this.padding,y:e-this.windowHeight-this.padding,width:t-2*this.padding,height:this.windowHeight}}},{key:"_drawBackground",value:function(){var e=this._calculateWindowDimensions();this.graphics.background=this.scene.add.graphics().setScrollFactor(this.scrollFactor),this.graphics.background.lineStyle(this.borderThickness,this.borderColor,this.borderAlpha),this.graphics.background.fillStyle(this.windowColor,this.windowAlpha),this.graphics.background.strokeRoundedRect(e.x,e.y,e.width,e.height,5),this.graphics.background.fillRoundedRect(e.x,e.y,e.width,e.height,5),this.graphics.background.setDepth(1e3)}},{key:"_drawText",value:function(){var e=this._calculateWindowDimensions(),t=e.x+this.padding,i=e.y+.5*this.padding;this.graphics.text=this.scene.make.text({x:t,y:i,text:"",style:{wordWrap:{width:e.width-this.padding},fontFamily:"Dancing Script",fontSize:"25.5px",lineSpacing:"12"}}).setScrollFactor(this.scrollFactor),this.graphics.text.setDepth(1010)}}])&&O(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(n().Plugins.ScenePlugin);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function B(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==T(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===T(n)?n:String(n)),r)}var n}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function D(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(o,e);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(n){var i=C(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return D(this,e)});function o(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(i=a.call(this,e,t)).scene=e,i.systems=e.sys,i.borderThickness=3,i.borderColor=16777215,i.borderAlpha=.5,i.windowAlpha=.85,i.windowColor=0,i.windowHeight=100,i.padding=32,i.dialogSpeed=20,i.scrollFactor=0,i.visible=!1,i.graphics={background:null,text:null},i}return t=o,(i=[{key:"boot",value:function(){this._drawBackground(),this._drawText(),this.display(!1),this.systems.events.on("shutdown",this.shutdown,this)}},{key:"shutdown",value:function(){this.timedEvent&&this.timedEvent.remove(),this.graphics.text&&this.graphics.text.destroy()}},{key:"destroy",value:function(){this.shutdown(),this.scene=void 0}},{key:"display",value:function(e){this.visible=void 0===e?!this.visible:e,this.graphics.text&&(this.graphics.text.visible=this.visible),this.graphics.background&&(this.graphics.background.visible=this.visible)}},{key:"setText",value:function(e){var t=this;if(e&&e.split){this.timedEvent&&this.timedEvent.remove(),this.display(!0);var i=e.split("");this.graphics.text.setText(""),this.timedEvent=this.scene.time.addEvent({delay:150-30*this.dialogSpeed,callback:function(e){t.graphics.text.setText(t.graphics.text.text+e[t.graphics.text.text.length]),t.graphics.text.text.length===e.length&&t.timedEvent.remove()},args:[i],callbackScope:this,loop:!0})}}},{key:"_calculateWindowDimensions",value:function(){var e=this.scene.sys.game.config.height,t=this.scene.sys.game.config.width;return{x:this.padding,y:e-this.windowHeight-this.padding,width:t-2*this.padding,height:this.windowHeight}}},{key:"_drawBackground",value:function(){var e=this._calculateWindowDimensions();this.graphics.background=this.scene.add.graphics().setScrollFactor(this.scrollFactor),this.graphics.background.lineStyle(this.borderThickness,this.borderColor,this.borderAlpha),this.graphics.background.fillStyle(this.windowColor,this.windowAlpha),this.graphics.background.strokeRoundedRect(e.x,e.y,e.width,e.height,5),this.graphics.background.fillRoundedRect(e.x,e.y,e.width,e.height,5),this.graphics.background.setDepth(1e3)}},{key:"_drawText",value:function(){var e=this._calculateWindowDimensions(),t=e.x+this.padding,i=e.y+.5*this.padding;this.graphics.text=this.scene.make.text({x:t,y:i,text:"",style:{wordWrap:{width:e.width-this.padding},fontFamily:"Dancing Script",fontSize:"25.5px",lineSpacing:"12"}}).setScrollFactor(this.scrollFactor),this.graphics.text.setDepth(1010)}}])&&B(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(n().Plugins.ScenePlugin);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function E(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==_(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===_(n)?n:String(n)),r)}var n}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function L(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(r);if(n){var i=H(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return L(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"GameOver")}return t=o,(i=[{key:"preload",value:function(){}},{key:"create",value:function(){}},{key:"update",value:function(){}}])&&E(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function G(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==I(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===I(n)?n:String(n)),r)}var n}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,i=[{key:"ScaleToGameW",value:function(e,t,i){t.displayWidth=e.config.width*i,t.scaleY=t.scaleX}},{key:"center",value:function(e,t){t.x=e.config.width/2,t.y=e.config.height/2}}],null&&G(t.prototype,null),i&&G(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),F=function(e,t,i){var r=t;i?(r.stop(),e.registry.set("HarapAlbMusicOption",0)):(e.registry.set("HarapAlbMusicOption",1),e.sound.locked?e.sound.once(Phaser.Sound.Events.UNLOCKED,(function(){r.play()})):r.play())};function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function N(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==W(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===W(n)?n:String(n)),r)}var n}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function Y(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(n){var i=V(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Y(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"SceneMain")}return t=o,(i=[{key:"preload",value:function(){this.load.image("controls","src/assets/Main/Buttons/controls.png"),this.load.image("exit","src/assets/Main/Buttons/exit.png"),this.load.image("newgame","src/assets/Main/Buttons/newgame.png"),this.load.image("start","src/assets/Main/Buttons/start.png"),this.load.image("background","src/assets/Main/background.jpg"),this.load.image("musicON","src/assets/Main/Buttons/musicON.png"),this.load.image("musicOFF","src/assets/Main/Buttons/musicOFF.png"),this.load.image("info","src/assets/Main/Buttons/info.png"),this.load.audio("music1","src/assets/music/JocDeInceput.mp3")}},{key:"create",value:function(){var e=this;this.Background=this.add.image(10,10,"background"),M.ScaleToGameW(this.game,this.Background,1),M.center(this.game,this.Background);var t=this.add.image(.5*this.game.config.width,.6*this.game.config.height,"start").setDisplaySize(150,50),i=this.add.image(t.x,t.y+t.displayHeight+10,"newgame").setDisplaySize(150,50),r=this.add.image(i.x,i.y+i.displayHeight+10,"controls").setDisplaySize(150,50),n=this.add.image(r.x,r.y+r.displayHeight+10,"exit").setDisplaySize(150,50),a=this.add.image(this.game.config.width-150,this.game.config.height-70,"musicON").setDisplaySize(110,50),o=this.add.image(a.x-100,a.y,"info").setDisplaySize(50,50);t.setInteractive(),i.setInteractive(),r.setInteractive(),n.setInteractive(),a.setInteractive(),o.setInteractive();var c=this.sound.add("music1",{volume:.2,loop:!0});"true"===localStorage.getItem("HarapAlb-musicOff")?(this.registry.set("HarapAlbMusicOption",0),a.setTexture("musicOFF")):F(this,c,!1),t.on("pointerover",(function(){t.setTint(10601670)})),t.on("pointerdown",(function(){e.registry.get("HarapAlbMusicOption")&&c.stop(),e.scene.start("Scene2Forest3",{x:161,y:391})})),t.on("pointerout",(function(){t.clearTint()})),i.on("pointerover",(function(){i.setTint(10601670)})),i.on("pointerout",(function(){i.clearTint()})),r.on("pointerover",(function(){r.setTint(10601670)})),r.on("pointerdown",(function(){var e=document.getElementById("myModal-controls"),t=document.getElementsByClassName("close1")[0];e.style.display="block",t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}})),r.on("pointerout",(function(){r.clearTint()})),n.on("pointerover",(function(){n.setTint(10601670)})),n.on("pointerdown",(function(){close()})),n.on("pointerout",(function(){n.clearTint()})),a.on("pointerover",(function(){a.setTint(10601670)})),a.on("pointerdown",(function(){e.registry.get("HarapAlbMusicOption")?(localStorage.setItem("HarapAlb-musicOff",!0),F(e,c,!0),a.setTexture("musicOFF")):(localStorage.setItem("HarapAlb-musicOff",!1),F(e,c,!1),a.setTexture("musicON"))})),a.on("pointerout",(function(){a.clearTint()})),o.on("pointerover",(function(){o.setTint(10601670)})),o.on("pointerdown",(function(){var e=document.getElementById("myModal-info"),t=document.getElementsByClassName("close2")[0];e.style.display="block",t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}})),o.on("pointerout",(function(){o.clearTint()}))}},{key:"update",value:function(){}}])&&N(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function q(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==K(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===K(n)?n:String(n)),r)}var n}var J=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.scene=t)}var t,i;return t=e,(i=[{key:"preload",value:function(){this.scene.load.atlas("HarapAlb","src/assets/Player/HarapAlb.png","src/assets/Player/HarapAlb.json")}},{key:"create",value:function(){var e=this.scene.anims;e.create({key:"HarapAlb-walk-left",frames:e.generateFrameNames("HarapAlb",{prefix:"HarapAlb-walk-left.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"HarapAlb-walk-right",frames:e.generateFrameNames("HarapAlb",{prefix:"HarapAlb-walk-right.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"HarapAlb-walk-front",frames:e.generateFrameNames("HarapAlb",{prefix:"HarapAlb-walk-front.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"HarapAlb-walk-back",frames:e.generateFrameNames("HarapAlb",{prefix:"HarapAlb-walk-back.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1})}},{key:"destroy",value:function(){this.scene.anims.remove("HarapAlb-walk-left"),this.scene.anims.remove("HarapAlb-walk-right"),this.scene.anims.remove("HarapAlb-walk-front"),this.scene.anims.remove("HarapAlb-walk-back")}}])&&q(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();const $=0,Q={TOP_LEFT:93,TOP_RIGHT:93,BOTTOM_RIGHT:93,BOTTOM_LEFT:93,TOP:[{index:93,weight:6},{index:93,weight:2}],LEFT:[{index:93,weight:6},{index:93,weight:2}],RIGHT:[{index:93,weight:6},{index:93,weight:2}],BOTTOM:[{index:93,weight:6},{index:93,weight:2}]},Z=[{index:2,weight:7},{index:[3,4,5,6,7,8,245],weight:3}],ee=[{index:13,weight:1},{index:32,weight:1},{index:51,weight:1}],te={TOP:[2,244],LEFT:[[244],[2],[2]],BOTTOM:[2,2,244],RIGHT:[[2],[2],[244]]},ie=93,re=246,ne=[[93],[93]];var ae=i(58),oe=i.n(ae);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function se(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==ce(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===ce(n)?n:String(n)),r)}var n}var ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.shadowLayer=t,this.activeRoom=null}var t,i;return t=e,(i=[{key:"setActiveRoom",value:function(e){e!==this.activeRoom&&(this.setRoomAlpha(e,0),this.activeRoom&&this.setRoomAlpha(this.activeRoom,.5),this.activeRoom=e)}},{key:"setRoomAlpha",value:function(e,t){this.shadowLayer.forEachTile((function(e){return e.alpha=t}),this,e.x,e.y,e.width,e.height)}}])&&se(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),le=function(e){var t=e.cameras.main.width,i=e.cameras.main.height,r=e.make.text({x:t/2,y:i/2-50,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}});r.setOrigin(.5,.5);var n=e.make.text({x:t/2,y:i/2-5,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}});n.setOrigin(.5,.5);var a=e.make.text({x:t/2,y:i/2+50,text:"",style:{font:"18px monospace",fill:"#ffffff"}});a.setOrigin(.5,.5),e.load.on("progress",(function(e){n.setText(parseInt(100*e)+"%")})),e.load.on("complete",(function(){r.destroy(),n.destroy(),a.destroy()}))};function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function fe(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==pe(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===pe(n)?n:String(n)),r)}var n}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function ye(e,t){if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=me(r);if(n){var i=me(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"BearsMaze")).cursors=null,e.player=null,e.animsManager=new J(he(e)),e.level=0,e.timedEvent,e.TextSalateRamase,e.SalateRamase=3,e.durationInSeconds=180,e.durationInMilliseconds=1e3*e.durationInSeconds,e.TimerIsDone=!1,e}return t=o,(i=[{key:"preload",value:function(){le(this),this.animsManager.preload(),this.load.image("tiles","src/assets/BearsMaze/sheet.jpg"),this.GameInfo.setText("Trebuie sa te grabesti! Culege cele 3 salate inainte sa se trezeasca ursul!")}},{key:"create",value:function(){this.RestartGame(),this.textTimpRamas=this.add.text(32,32,"",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff"}),this.textTimpRamas.setDepth(100),this.textTimpRamas.setScrollFactor(0),this.TextSalateRamase=this.add.text(32,62,"",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff"}),this.TextSalateRamase.setDepth(100),this.TextSalateRamase.setScrollFactor(0),this.cursors=this.input.keyboard.createCursorKeys()}},{key:"update",value:function(){var e=this.groundLayer.worldToTileX(this.player.x),t=this.groundLayer.worldToTileY(this.player.y),i=this.dungeon.getRoomAt(e,t);if(this.tilemapVisibility.setActiveRoom(i),this.GameInfo.visible)return this.cursors.space.isDown&&(this.resetUI(),this.GameInfo.display(!1),this.timer=this.time.addEvent({delay:1e3,repeat:this.durationInSeconds-1,callback:this.updateTimer,callbackScope:this,loop:!1}),this.updateTimer(),this.TimerIsDone=!1),!1;this.hasPlayerReachedStairs&&(this.player.destroy(),this.RestartGame(),this.SalateRamase-=1,this.TextSalateRamase.setText("Salate Rămase: "+this.SalateRamase)),this.cursors.left.isDown?this.player.SetInstruction({action:"walk",option:"left"}):this.cursors.right.isDown&&this.player.SetInstruction({action:"walk",option:"right"}),this.cursors.up.isDown?this.player.SetInstruction({action:"walk",option:"back"}):this.cursors.down.isDown&&this.player.SetInstruction({action:"walk",option:"front"}),this.player.update(),this.TimerIsDone&&(this.GameInfo.setText("Din pacate Harap-Alb nu a reusit sa culeaga salatele si ursul s-a trezit. Hai sa incercam din nou!"),this.player.ForceStop(),this.RestartGame(),this.resetUI()),0==this.SalateRamase&&alert("done!")}},{key:"resetUI",value:function(){this.textTimpRamas.setText("Timp rămas: 03:00"),this.SalateRamase=3,this.TextSalateRamase.setText("Salate Rămase: "+this.SalateRamase)}},{key:"RestartGame",value:function(){var e=this,t=this.cameras.main;t.fadeOut(250,0,0,0),this.level++,this.hasPlayerReachedStairs=!1,this.dungeon=new(oe())({width:50,height:50,doorPadding:2,rooms:{width:{min:7,max:15,onlyOdd:!0},height:{min:7,max:15,onlyOdd:!0}}});var i=this.make.tilemap({tileWidth:48,tileHeight:48,width:this.dungeon.width,height:this.dungeon.height}),r=i.addTilesetImage("tiles",null,48,48,1,2);this.groundLayer=i.createBlankLayer("Ground",r).fill($),this.stuffLayer=i.createBlankLayer("Stuff",r);var n=i.createBlankLayer("Shadow",r).fill($);this.tilemapVisibility=new ue(n),this.dungeon.rooms.forEach((function(t){var i=t.x,r=t.y,n=t.width,a=t.height,o=t.left,c=t.right,s=t.top,u=t.bottom;e.groundLayer.weightedRandomize(Z,i+1,r+1,n-2,a-2),e.groundLayer.putTileAt(Q.TOP_LEFT,o,s),e.groundLayer.putTileAt(Q.TOP_RIGHT,c,s),e.groundLayer.putTileAt(Q.BOTTOM_RIGHT,c,u),e.groundLayer.putTileAt(Q.BOTTOM_LEFT,o,u),e.groundLayer.weightedRandomize(Q.TOP,o+1,s,n-2,1),e.groundLayer.weightedRandomize(Q.BOTTOM,o+1,u,n-2,1),e.groundLayer.weightedRandomize(Q.LEFT,o,s+1,1,a-2),e.groundLayer.weightedRandomize(Q.RIGHT,c,s+1,1,a-2);for(var l=t.getDoorLocations(),p=0;p<l.length;p++)0===l[p].y?e.groundLayer.putTilesAt(te.TOP,i+l[p].x-1,r+l[p].y):l[p].y===t.height-1?e.groundLayer.putTilesAt(te.BOTTOM,i+l[p].x-1,r+l[p].y):0===l[p].x?e.groundLayer.putTilesAt(te.LEFT,i+l[p].x,r+l[p].y-1):l[p].x===t.width-1&&e.groundLayer.putTilesAt(te.RIGHT,i+l[p].x,r+l[p].y-1)}));var a=this.dungeon.rooms.slice(),o=a.shift(),c=Phaser.Utils.Array.RemoveRandomElement(a),s=Phaser.Utils.Array.Shuffle(a).slice(0,.9*a.length);this.stuffLayer.putTileAt(re,c.centerX,c.centerY),s.forEach((function(t){var i=Math.random();if(i<=.25)e.stuffLayer.putTileAt(ie,t.centerX,t.centerY);else if(i<=.5){var r=Phaser.Math.Between(t.left+2,t.right-2),n=Phaser.Math.Between(t.top+2,t.bottom-2);e.stuffLayer.weightedRandomize(r,n,1,1,ee)}else t.height>=9?(e.stuffLayer.putTilesAt(ne,t.centerX-1,t.centerY+1),e.stuffLayer.putTilesAt(ne,t.centerX+1,t.centerY+1),e.stuffLayer.putTilesAt(ne,t.centerX-1,t.centerY-2),e.stuffLayer.putTilesAt(ne,t.centerX+1,t.centerY-2)):(e.stuffLayer.putTilesAt(ne,t.centerX-1,t.centerY-1),e.stuffLayer.putTilesAt(ne,t.centerX+1,t.centerY-1))})),this.groundLayer.setCollisionByExclusion([3,4,5,7,8,13,32,51,6,2,40,38,0,166,81,245,244,246]),this.stuffLayer.setTileIndexCallback(re,(function(){e.stuffLayer.setTileIndexCallback(re,null),e.hasPlayerReachedStairs=!0}));var u=o,l=i.tileToWorldX(u.centerX),p=i.tileToWorldY(u.centerY);window.player=this.player=this.add.character({x:l,y:p,name:"HarapAlb",image:"HarapAlb",speed:500}),this.physics.add.collider(this.player,this.groundLayer),this.physics.add.collider(this.player,this.stuffLayer),this.player.setTexture("HarapAlb","HarapAlb-front"),this.cameras.main.startFollow(this.player),this.animsManager.create(),t.fadeIn(250,0,0,0)}},{key:"updateTimer",value:function(){var e=this.timer.repeatCount,t=Math.floor(e/60),i=e%60,r="".concat(t.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"));this.textTimpRamas.setText("Timp rămas: "+r),e<=0&&(this.TimerIsDone=!0)}}])&&fe(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(),ge=i(791),ve=function(e){return Math.floor(Math.random()*Math.floor(e))};function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Oe(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==we(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===we(n)?n:String(n)),r)}var n}var Se,Pe,je=function(){function e(t){var i=t.key,r=t.gameScene,n=t.x,a=t.y,o=t.handler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=i,this.gameScene=r,this.handler=o,this.outOfTheGame=!1,this.draw(n,a)}var t,i;return t=e,(i=[{key:"draw",value:function(e,t){this.frontbg=this.gameScene.add.sprite(e,t,"front.png").setInteractive(),this.cover=this.gameScene.add.sprite(e,t,"back.png").setInteractive(),this.front=this.gameScene.add.sprite(e,t,this.key).setInteractive(),this.cover.on("pointerdown",this.onClickHandler.bind(this)),this.front.on("pointerdown",this.onClickHandler.bind(this)),this.faceDown()}},{key:"readOnly",value:function(){this.outOfTheGame=!0}},{key:"isVisible",value:function(){return this.front.visible}},{key:"faceDown",value:function(){this.outOfTheGame||(this.frontbg.visible=!1,this.front.visible=!1,this.cover.visible=!0)}},{key:"faceUp",value:function(){this.outOfTheGame||(this.frontbg.visible=!0,this.front.visible=!0,this.cover.visible=!1)}},{key:"onClickHandler",value:function(){this.handler(this)}}])&&Oe(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ke=(Se=i(93),Pe={},Se.keys().map((function(e){Pe[e.replace("./","")]=Se(e)})),Pe);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Be(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function xe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(i),!0).forEach((function(t){De(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Be(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function De(e,t,i){return(t=Re(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ce(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Re(r.key),r)}}function Re(e){var t=function(e,t){if("object"!==Te(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Te(t)?t:String(t)}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function Ee(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ae(r);if(n){var i=Ae(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ee(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Board")).Cards=[],e.selectedCards=[],e.attempts=0,e.waitForNewRound=!1,e.score,e.cursors=null,e.timedEvent,e.text,e.music=null,e}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("Background",ge.default),this.loadCards(),this.GameInfo.setText('Pentru ca fiul craiului să învingă acest urs, trebuie completat "Jocul de memorie". Trebuie să găsești perechi de cărți cu aceeași imagine în cel mult 15 de secunde! Apasă mouse-ul pentru a alege cartea.'),this.load.audio("music4","src/assets/music/TurningDance.mp3")}},{key:"create",value:function(){this.music=this.sound.add("music4",{volume:.2,loop:!0}),0===this.registry.get("HarapAlbMusicOption")||"true"===localStorage.getItem("HarapAlb-musicOff")?F(this,this.music,!0):F(this,this.music,!1),this.Background=this.add.image(10,10,"Background"),M.ScaleToGameW(this.game,this.Background,1),M.center(this.game,this.Background),this.text=this.add.text(32,32,"",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff"}),this.text.setDepth(100),this.text.setScrollFactor(0),this.cursors=this.input.keyboard.createCursorKeys(),this.shuffle()}},{key:"update",value:function(){if(this.GameInfo.visible)return this.cursors.space.isDown&&(this.restartGame(),this.timedEvent=this.time.delayedCall(15500,this.onEvent,[],this),this.GameInfo.display(!1),this.Background.clearTint()),!1;this.time.addEvent({delay:1e3,callback:function(){var e=Math.ceil((this.timedEvent.delay-this.timedEvent.elapsed)/1e3);this.text.setText("Timp rămas: "+e.toString()+" secunde")},callbackScope:this,loop:!0})}},{key:"loadCards",value:function(){var e=Object.keys(ke).map((function(e){return{key:e,url:ke[e].default}}));this.load.image(e)}},{key:"cardClickHandler",value:function(e){if(!this.GameInfo.visible){if(this.waitForNewRound||e.out||this.selectedCards.includes(e))return;e.faceUp(),this.selectedCards.push(e),2===this.selectedCards.length&&this.newRound()}}},{key:"newRound",value:function(){var e=this;this.waitForNewRound=!0,setTimeout((function(){e.matchCards()?e.setAsReadOnly():e.faceCardsDown(),e.updateScore(),e.selectedCards.length=0,e.waitForNewRound=!1,e.attempts++}),1e3)}},{key:"matchedCards",value:function(){return this.Cards.filter((function(e){return e.outOfTheGame})).length/2}},{key:"updateScore",value:function(){var e=this;this.score||(this.score=this.add.text(0,400,"",{font:"bold 32px Arial",fill:"#fff",boundsAlignH:"center",boundsAlignV:"middle"})),this.attempts&&(this.matchedCards()/this.attempts*100).toFixed(0),4===this.matchedCards()&&setTimeout((function(){F(e,e.music,!0),e.scene.start("Cutscene6")}),125)}},{key:"setAsReadOnly",value:function(){this.selectedCards.forEach((function(e){return e.readOnly()}))}},{key:"faceCardsDown",value:function(){this.selectedCards.forEach((function(e){return e.faceDown()}))}},{key:"matchCards",value:function(){if(this.selectedCards.length){var e=this.selectedCards[0],t=this.selectedCards[1];return e.key===t.key}}},{key:"onEvent",value:function(){this.restartGame(),this.Background.setTint(16711680),this.GameInfo.setText("Din păcate, fiul craiului nu a putut rămane concentrat... Hai să încercăm din nou!")}},{key:"restartGame",value:function(){this.selectedCards.length=0,this.Cards.forEach((function(e){e.faceDown(),e.outOfTheGame=!1})),this.shuffle()}},{key:"shuffle",value:function(){for(var e=this.game.config.width/3.5,t=this.game.config.height/4,i=parseInt(2)+1,r=[],n=Object.keys(ke).filter((function(e){return e.includes("card")})).slice(0,4),a=8,o=0;o<i;o++)for(var c=0;c<4;c++)a>0&&r.push({x:e+200*c,y:t+200*o}),a--;for(;r.length;){var s=r.splice(ve(r.length),1)[0],u=r.splice(ve(r.length),1)[0],l=n.splice(ve(n.length),1)[0];this.Cards.push(new je(xe(xe({key:l,gameScene:this},s),{},{handler:this.cardClickHandler.bind(this)}))),this.Cards.push(new je(xe(xe({key:l,gameScene:this},u),{},{handler:this.cardClickHandler.bind(this)})))}}}])&&Ce(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const He=i.p+"72b7bc2f032e92ac2c6a556ed95f1d08.jpg",ze=i.p+"aa91a45aff9e3a5258b6cf76d8c2c572.png",Ie=i.p+"1619a275341664f32964b6b1308052b5.png";function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Me(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Ge(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Ge(n)?n:String(n)),r)}var n}function Fe(e,t){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fe(e,t)}function We(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fe(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ne(r);if(n){var i=Ne(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return We(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"QuickMath")).cursors=null,e.gameOptions={maxSumLen:5,timeToAnswer:6500,nextLevel:500},e.music=null,e}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("Background",He),this.load.image("timebar",Ie),this.load.spritesheet("buttons",ze,{frameWidth:400,frameHeight:50}),this.load.audio("music6","src/assets/music/TheCask.mp3")}},{key:"create",value:function(){this.music=this.sound.add("music6",{volume:.2,loop:!0}),0===this.registry.get("HarapAlbMusicOption")||"true"===localStorage.getItem("HarapAlb-musicOff")?F(this,this.music,!0):F(this,this.music,!1),this.Background=this.add.image(10,10,"Background"),M.ScaleToGameW(this.game,this.Background,1),M.center(this.game,this.Background),this.cursors=this.input.keyboard.createCursorKeys(),this.GameInfo.setText("Pentru ca fiul craiului să scape, obține un scor de peste 2000 în acest joc de aritmetică! Alege răspunsul corect înainte ca timpul să expire! Ai întotdeauna mai mult timp decât crezi! Apasă mouse-ul pentru a selecta cartea.")}},{key:"update",value:function(){if(this.GameInfo.visible)return this.cursors.space.isDown&&(this.GameInfo.display(!1),this.restartGame()),!1}},{key:"restartGame",value:function(){this.Background.clearTint(),this.questionText&&this.questionText.destroy(),this.scoreText&&this.scoreText.destroy(),this.isGameOver=!1,this.score=0,this.correctAnswers=0,this.sumsArray=[];for(var e=1;e<this.gameOptions.maxSumLen;e++){this.sumsArray[e]=[[],[],[]];for(var t=1;t<=3;t++)this.buildThrees(t,1,e,t)}for(this.questionText=this.add.text(250,160,"-",{font:"bold 72px Arial"}),this.questionText.setOrigin(.5),this.questionText.setPosition(this.game.config.width/2,this.game.config.height/3.7),this.scoreText=this.add.text(10,10,"-",{font:"bold 24px Arial"}),e=0;e<3;e++){var i=this.add.sprite(this.game.config.width/2,250+75*e,"buttons");i.setFrame(e),i.setInteractive(),i.on("pointerdown",this.checkAnswer)}var r=this.add.sprite(this.game.config.width/2,325,"timebar");this.buttonMask=this.add.sprite(this.game.config.width/2,r.y,"timebar"),this.buttonMask.setVisible(!1);var n=this.buttonMask.createBitmapMask();r.setMask(n),this.nextNumber()}},{key:"buildThrees",value:function(e,t,i,r){for(var n=[-3,-2,-1,1,2,3],a=0;a<n.length;a++){var o=e+n[a],c=r+(n[a]<0?"":"+")+n[a];o>0&&o<4&&t==i&&this.sumsArray[i][o-1].push(c),t<i&&this.buildThrees(o,t+1,i,c)}}},{key:"nextNumber",value:function(){this.scoreText.setText("Score: "+this.score.toString()),this.correctAnswers>1&&(this.timeTween.stop(),this.buttonMask.x=this.game.config.width/2),this.correctAnswers>0&&(this.timeTween=this.tweens.add({targets:this.buttonMask,x:-150,duration:this.gameOptions.timeToAnswer,callbackScope:this,onComplete:function(){this.gameOver("?")}})),this.randomSum=Phaser.Math.Between(0,2);var e=Math.min(Math.floor(this.score/this.gameOptions.nextLevel)+1,4);this.questionText.setText(this.sumsArray[e][this.randomSum][Phaser.Math.Between(0,this.sumsArray[e][this.randomSum].length-1)])}},{key:"checkAnswer",value:function(){this.scene.isGameOver||(this.frame.name==this.scene.randomSum?(this.scene.score+=Math.floor((this.scene.buttonMask.x+350)/4),this.scene.correctAnswers++,this.scene.nextNumber()):(this.scene.correctAnswers>1&&this.scene.timeTween.stop(),this.scene.gameOver(this.frame.name+1)))}},{key:"gameOver",value:function(e){this.Background.setTint(16711680),this.questionText.setText(this.questionText.text+" = "+e),this.isGameOver=!0,this.score>2e3&&(F(this,this.music,!0),this.scene.start("Cutscene10")),this.GameInfo.setText("Din păcate, fiul craiului nu a reușit... Hai să încercăm din nou!")}}])&&Me(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Ye=i.p+"beac63d122cc970c10faddcd25dede4a.png",Ve=i.p+"f6e2af40d729be4b0d33cc662703b11e.png",Ue=i.p+"d892e690ff03c015cc5ad75ccaa029de.png",Ke=i.p+"3fcf1998420b950e814368a99eed784d.png",qe=i.p+"c79a1d0f67e54ceb769c300c27e0f2ec.png",Je=i.p+"7cb978a09f38a58d94bd15d3a743ea22.png",$e=i.p+"7b500eb4a80f256928031949dec16f88.png",Qe=i.p+"0e7b53c7cd7bfa550768e52d0e8ee412.png",Ze=i.p+"2177a2fa99e815a61eec1178b2acc79f.png",et=i.p+"7828df389a6f15722831340c825d9fc7.png",tt=i.p+"231cc2e04dda61cb86af56f85c46c3b3.png",it=i.p+"9536727d63ccb18baf3696608373d8ae.png",rt=i.p+"130fae07160a9628909453db016ba2d9.png",nt=i.p+"adbb40a1646d8705eb2ee1fb3adcda72.png",at=i.p+"43b4fb3735a81f757c1fd5c70bc0c58f.png",ot=i.p+"c55294ad509430a00750a9a33a137be3.png",ct=i.p+"92d859d99d9e0c6be7ff378101549b8e.png",st=i.p+"7f748fe6472b56b18143ce43c1e2f67c.png",ut=i.p+"4f9b7234626d9d8990f7aea956754884.png",lt=i.p+"1124f97e8739fbb1c635f0ff07f20035.png";function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function ft(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==pt(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===pt(n)?n:String(n)),r)}var n}function dt(e,t){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dt(e,t)}function yt(e,t){if(t&&("object"===pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dt(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ht(r);if(n){var i=ht(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return yt(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene1")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B1",Ye),this.load.image("B2",it),this.load.image("B3",nt),this.load.image("B4",at),this.load.image("B5",ot),this.load.image("B6",ct),this.load.image("B7",st),this.load.image("B8",ut),this.load.image("B9",lt),this.load.image("B10",Ve),this.load.image("B11",Ue),this.load.image("B12",Ke),this.load.image("B13",qe),this.load.image("B14",Je),this.load.image("B15",$e),this.load.image("B16",Qe),this.load.image("B17",Ze),this.load.image("B18",et),this.load.image("B19",tt),this.load.image("B20",rt),this.load.audio("music2","src/assets/music/Batraneasca.mp3")}},{key:"create",value:function(){var e=this,t=this.sound.add("music2",{volume:.2,loop:!0});0===this.registry.get("HarapAlbMusicOption")||"true"===localStorage.getItem("HarapAlb-musicOff")?F(this,t,!0):F(this,t,!1);var i=["Amu cică era odată într-o țară un crai, care avea trei feciori. Și craiul acela mai avea un frate mai mare, care era împărat într-o altă țară, mai depărtată. Și împăratul, fratele craiului, se numea Verde-împărat; și împăratul Verde nu avea feciori, ci numai fete. Mulți ani trecură la mijloc de când acești frați mai avură prilej a se întâlni amândoi. Iară verii, adică feciorii craiului și fetele împăratului, nu se văzuse niciodată de când erau ei.","Și așa veni împrejurarea de nici împăratul Verde nu cunoștea nepoții săi, nici craiul nepoatele sale: pentru că țara în care împărățea fratele cel mai mare era tocmai la o margine a pământului, și crăia istuilalt la o altă margine. Și apoi, pe vremile acelea, mai toate țările erau bântuite de războaie grozave, drumurile pe ape și pe uscat erau puțin cunoscute și foarte încurcate și de aceea nu se putea călători așa de ușor și fără primejdii ca în ziua de astăzi. Și cine apuca a se duce pe atunci într-o parte a lumii adeseori dus rămânea până la moarte. ","Dar ia să nu ne depărtăm cu vorba și să încep a depăna firul poveștii. ","Amu cică împăratul acela, aproape de bătrânețe, căzând la zăcare, a scris către frăține-său craiului, să-i trimită grabnic pe cel mai vrednic dintre nepoți, ca să-l lase împărat în locul său după moartea sa. ","Craiul, primind cartea, îndată chemă tustrei feciorii înaintea sa și le zise: ","— Iaca ce-mi scrie frate-meu și moșul vostru. Care dintre voi se simte destoinic a împărăți peste o țară așa de mare și bogată, ca aceea, are voie din partea mea să se ducă, ca să împlinească voința cea mai de pe urmă a moșului vostru.","Atunci feciorul cel mai mare ia îndrăzneală și zice :","— Tată, eu cred că mie mi se cuvine această cinste, pentru că sunt cel mai mare dintre frați; de aceea te rog să-mi dai bani de cheltuială, straie de primeneală, arme și cal de călărie, ca să și pornesc, fără zăbavă.","— Bine, dragul tatei, dacă te bizuiești că-i putea răzbate până acolo și crezi că ești în stare a cârmui și pe alții, alege-ți un cal din herghelie, care-i vrea tu, ia-ți bani cât ți-or trebui, haine care ți-or plăcea, arme care-i crede că-ți vin la socoteală și mergi cu bine, fătul meu. ","Atunci feciorul craiului își ia cele trebuitoare, sărută mâna tătâne-său, primind carte de la dânsul către împăratul, zice rămas bun fraților săi și apoi încalecă și pornește cu bucurie spre împărăție. ","Craiul însă, vrând să-l ispitească, tace molcum și, pe înserate, se îmbracă pe ascuns într-o piele de urs, apoi încalecă pe cal, iese înaintea fecioru-său pe altă cale și se bagă sub un pod.","Și când să treacă fiu-său pe acolo, numai iaca la capătul podului îl și întâmpină un urs mormăind.","Atunci calul fiului de crai începe a sări în două picioare, forăind, și cât pe ce să izbească pe stăpânu-său. Și fiul craiului, nemaiputând struni calul și neîndrăznind a mai merge înainte, se întoarnă rușinat înapoi la tatu-său.","— Da' ce-ai uitat, dragul tatei, de te-ai întors înapoi? Aista nu-i semn bun, după cât știu eu. ","— De uitat, n-am uitat nimica, tată, dar ia, prin dreptul unui pod, mi-a ieșit înainte un urs grozav, care m-a vârât în toți spărieții. Și cu mare ce scăpând din labele lui, am găsit cu cale să mă întorc la d-ta acasă decât să fiu prada fiarelor sălbatice. Și de-acum înainte, ducă-se, din partea mea, cine știe, că mie unuia nu-mi trebuie nici împărăție, nici nimica; doar n-am a trăi cât lumea, ca să moștenesc pământul. ",'— Despre aceasta bine ai chitit-o, dragul tatei. Se vede lucru că nici tu nu ești de împărat, nici împărăția pentru tine; și decât să încurci numai așa lumea, mai bine să șezi departe, cum zici, căci, mila Domnului: "Lac de-ar fi, broaște sunt destule". Numai aș vrea să știu, cum rămâne cu moșu-tău. Așa-i că ne-am încurcat în slăbăciune? ',"Atunci feciorul cel mijlociu zice: \n\n— Tată, să mă duc eu, dacă vrei. ",'— Ai toată voia de la mine, fătul meu, dar mare lucru să fie de nu ți s-or tăia și ție cărările. Mai știi păcatul, poate să-ți iasă înainte vreun iepure, ceva... și popâc! m-oi trezi cu tine acasă, ca și cu frate-tău, ș-apoi atunci rușinea ta n-a fi proastă. Dar dă, cearcă și tu, să vezi cum ți-a sluji norocul. Vorba ceea: "Fiecare pentru sine, croitor de pâine". De-i izbuti, bine-de-bine, iară de nu, au mai pățit și alți voinici ca tine... ',"Atunci feciorul cel mijlociu, pregătindu-și cele trebuitoare și primind și el carte din mâna tată-său către împăratul, își ia ziua bună de la frați, și a doua zi pornește și el. Și merge, și merge, până se înnoptează bine.","Și când prin dreptul podului, numai iaca și ursul: mor! mor! mor! Calul fiului de crai începe atunci a forăi, a sări în două picioare și a da înapoi. Și fiul craiului, văzând că nu-i lucru de șagă, se lasă și el de împărăție și, cu rușinea lui, se întoarce înapoi la tată-său acasă.",'— Ei, dragul tatei, așa-i că s-a împlinit vorba ceea: "Apără-mă de găini, că de câini nu mă tem". ',"— Ce fel de vorbă-i asta, tată?! la d-ta urșii se cheamă găini? Ba, ia acum cred eu frăține-meu, că așa urs oștirea întreagă este în stare să o zdrumice... Încă mă mir cum am scăpat cu viață; lehamite și de împărăție și de tot, că doar, slavă Domnului, am ce mânca la casa d-tale. ","— Ce mânca văd eu bine că ai, despre asta nu e vorbă, fătul meu, dar ia spuneți-mi: rușinea unde o puneți? Din trei feciori câți are tata, nici unul să nu fie bun de nimica?! ","Apoi, drept să vă spun, că atunci degeaba mai stricați mâncarea, dragii mei... Să umblați numai așa, frunza frăsinelului, toată viața voastră și să vă lăudați că sunteți feciori de crai, asta nu miroase a nas de om... Cum văd eu, frate-meu se poate culca pe o ureche din partea voastră; la sfântul Așteaptă s-a împlini dorința lui. Halal de nepoți ce are!","Vorba ceea:\n\nLa plăcinte, înainte\nȘi la război, înapoi.","Fiul craiului cel mai mic, făcându-se atunci roș cum îi gotca, iese afară în grădină și începe a plânge în inima sa, lovit fiind în adâncul sufletului de apăsătoarele cuvinte ale părintelui său.","Și cum sta el pe gânduri și nu se dumerea ce să facă pentru a scăpa de rușine, numai iaca se trezește dinaintea lui cu o babă gârbovită de bătrânețe, care umbla după milostenie. ","— Da’ ce stai așa pe gânduri, luminate crăișor? Alungă mâhnirea din inima ta, căci norocul îți râde din toate părțile și nu ai de ce fi supărat. Ia, mai bine miluiește baba cu ceva. ","— Ține, mătușă, de la mine puțin și de la Dumnezeu mult.","— De unde dai, milostivul Dumnezeu să-ți dea și mult să te înzilească, luminate crăișor, că mare norocire te așteaptă. Puțin mai este, și ai să ajungi împărat, care n-a mai stat altul pe fața pământului așa de iubit, de slăvit și de puternic. Acum, luminate crăișor, ca să vezi cât poate să-ți ajute milostenia, stai liniștit, uită-te drept în ochii mei și ascultă cu luare-aminte ce ți-oi spune:","du-te la tată-tău și cere să-ți dea calul, armele și hainele cu care a fost el mire, și atunci ai să te poți duce unde n-au putut merge frații tăi; pentru că ție a fost scris de sus să-ți fie dată această cinste. Tatu-tău s-a împotrivi și n-a vrea să te lase, dar tu stăruiește pe lângă dânsul cu rugăminte, că ai să-l îndupleci. ","Hainele despre care ți-am vorbit sunt vechi și ponosite, și armele ruginite, iară calul ai să-l poți alege punând în mijlocul hergheliei o tavă plină cu jăratic, și care dintre cai a veni la jăratic să mănânce, acela are să te ducă la împărăție și are să te scape din multe primejdii. Ține minte ce-ți spun eu, că poate să ne mai întâlnim la vrun capăt de lume: căci deal cu deal se ajunge, dar încă om cu om! "],r=["B1","B1","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12","B13","B12","B14","B12","B8","B15","B12","B16","B12","B12","B12","B17","B18","B19","B20","B19","B19","B19"],n=0;this.Background=this.add.image(10,10,r[n]),this.Dialog.setText(i[n]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++n>=i.length&&e.scene.start("Scene1",{x:360,y:1181}),e.Background=e.add.image(10,10,r[n]),e.Dialog.setText(i[n]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&ft(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const bt=i.p+"baf7c5b12cf450a3930efdad7b4790b9.png",gt=i.p+"24564a24d106a82c56dd5526a85dcfe6.png",vt=i.p+"30a87b4c629130e01d603eda94f51c7c.png";function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function Ot(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==wt(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===wt(n)?n:String(n)),r)}var n}function St(e,t){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},St(e,t)}function Pt(e,t){if(t&&("object"===wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&St(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jt(r);if(n){var i=jt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Pt(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene2")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B22",bt),this.load.image("B23",gt),this.load.image("B7",vt)}},{key:"create",value:function(){var e=this,t=["— Dă-mi voie ca să mă duc și eu pe urma fraților mei, nu de alta, dar ca să-mi încerc norocul. Și ori oi putea izbuti, ori nu, dar îți făgăduiesc dinainte că, odată pornit din casa d-tale, înapoi nu m-oi mai întoarce, să știu bine că m-oi întâlni și cu moartea în cale. ","— Lucru negândit, dragul tatei, să aud așa vorbe tocmai din gura ta, zise craiul. Frații tăi au dovedit că nu au inimă într-înșii, și din partea lor mi-am luat toată nădejdea. Doar tu să fii mai viteaz, dar parcă tot nu-mi vine a crede. Însă, dacă vrei și vrei numaidecât să te duci, eu nu te opresc, dar mi-i nu cumva să te întâlnești cu scârba în drum și să dai și tu cinstea pe rușine, c-apoi atunci curat îți spun că nu mai ai ce căuta la casa mea. ","— Apoi dă, tată, omul e dator să se încerce. Am să pornesc și eu într-un noroc și cum a da Dumnezeu! Numai, te rog, dă-mi calul, armele și hainele cu care ai fost d-ta mire, ca să mă pot duce. ","— Hei, hei! dragul tatei, cu vorba aceasta mi-ai adus aminte de cântecul cela: \n\nVoinic tânăr, cal bătrân,\nGreu se-ngăduie la drum!","D-apoi calul meu de pe atunci cine mai știe unde i-or fi putrezind ciolanele! Că doar nu era să trăiască un veac de om! Cine ți-a vârât în cap și una ca aceasta, acela încă-i unul... Ori vorba ceea: Pesemne umbli după cai morți să le iei potcoavele. ","— Tată, atâta cer și eu de la d-ta. Acum, ori c-a fi trăind calul, ori că n-a fi trăind, aceasta mă privește pe mine; numai vreau să știu dacă mi-l dai ori ba. ","— Din partea mea, dat să-ți fie, dragul tatei, dar mi-i de-a mirarea de unde ai să-l iei, dacă n-are ființă pe lume. ","— Despre aceasta nu mă plâng eu, tată, bine că mi l-ai dat; de unde-a fi, de unde n-a fi, dacă l-oi găsi, al meu să fie. "],i=["B22","B7","B23","B7","B7","B23","B7","B23"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.wake("Scene1"),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&Ot(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Tt=i.p+"fce3f43bafcf3145b56103be26073221.png";function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function xt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Bt(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Bt(n)?n:String(n)),r)}var n}function Dt(e,t){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dt(e,t)}function Ct(e,t){if(t&&("object"===Bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dt(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rt(r);if(n){var i=Rt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ct(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene3")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B25",Tt)}},{key:"create",value:function(){var e=this,t=["Niște straie foarte vechi, un arc, niște săgeți, un paloș și un buzdugan, toate pline de rugină... Dacă mă uit bine, văd și un căpăstru, un frâu, un bici și o șa, toate colbăite, sfarogite și vechi ca pământul. "],i=["B25"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&(e.Dialog.display(!1),e.scene.transition({target:"Scene1",remove:!0})),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&xt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Et=i.p+"621192d5020f5395b35c943ea74d874e.png",At=i.p+"fd4711caf54026fa61fbedc4643d8be0.png",Lt=i.p+"14c32e3486495f478b1fdf9d0ee3d408.png";function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function zt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Ht(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Ht(n)?n:String(n)),r)}var n}function It(e,t){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},It(e,t)}function Gt(e,t){if(t&&("object"===Ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&It(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mt(r);if(n){var i=Mt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Gt(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene4")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B21",Ye),this.load.image("B27",vt),this.load.image("B28",At),this.load.image("B29",Lt),this.load.image("B30",Et)}},{key:"create",value:function(){var e=this,t=["Pe urmă umple o tavă cu jăratic, se duce la herghelie ","și o pune jos între cai.","Și atunci, numai iaca ce iese din mijlocul hergheliei o răpciugă de cal, grebănos, dupuros și slab, de-i numărai coastele; și venind de-a dreptul la tava, apucă o gură de jăratic. Fiul craiului îi și trage atunci cu frâul în cap, zicând: ","— Ghijoagă urâcioasă ce ești! din toți caii, tocmai tu te-ai găsit să mănânci jăratic? De te-a împinge păcatul să mai vii o dată, vai de steaua ta are să fie! ","Pune tarnița pe cal, anină armele la oblânc, își ia merinde și bani de ajuns, schimburi în desagi și o ploscă plină cu apă.","Apoi sărută mâna tată-său, primind carte de la dânsul către împăratul, zice rămas bun fraților săi și a treia zi către seară pornește și el, mergând din pasul calului."],i=["B27","B28","B29","B29","B29","B21"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&(e.sound.stopAll(),e.scene.start("Scene2",{x:161,y:391})),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background),e.registry.destroy("ExitAttic")}))}},{key:"update",value:function(){}}])&&zt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(),Wt=function(e){e.cursors.left.isDown?e.player.SetInstruction({action:"walk",option:"left"}):e.cursors.right.isDown&&e.player.SetInstruction({action:"walk",option:"right"}),e.cursors.up.isDown?e.player.SetInstruction({action:"walk",option:"back"}):e.cursors.down.isDown&&e.player.SetInstruction({action:"walk",option:"front"}),e.player.update()};function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Xt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yt(r.key),r)}}function Yt(e){var t=function(e,t){if("object"!==Nt(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Nt(t)?t:String(t)}function Vt(e,t){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vt(e,t)}function Ut(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kt(e)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}var Jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qt(r);if(n){var i=qt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ut(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene1")).cursors=null,e.player=null,e.animsManager=new J(Kt(e)),e}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("tilesCastle","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles2Castle","src/assets/World/PlantTiles.png"),this.load.image("tiles3Castle","src/assets/World/FenceTiles.png"),this.load.image("tiles5Castle","src/assets/World/StoneTiles.png"),this.load.image("tiles6Castle","src/assets/World/PropsTiles.png"),this.load.image("tiles7Castle","src/assets/World/StructureTiles.png"),this.load.image("tiles8Castle","src/assets/World/WallsTiles2.png"),this.load.tilemapTiledJSON("mapCastle","src/assets/Scene1/Scene1.json"),this.animsManager.preload(),this.load.json("scriptData","src/assets/Interactions/script.json")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.events.on("wake",(function(){return e.movePlayerAfterCutscene1()})),this.events.on("transitionwake",(function(){return e.movePlayerAfterCutscene3()})),this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"HarapAlb",image:"HarapAlb",speed:200}),this.player.setTexture("HarapAlb","HarapAlb-front");var t=this.make.tilemap({key:"mapCastle"}),i=t.addTilesetImage("SimpleGrassTiles","tilesCastle"),r=t.addTilesetImage("StoneTiles","tiles5Castle"),n=t.addTilesetImage("StructureTiles","tiles7Castle"),a=t.addTilesetImage("FenceTiles","tiles3Castle"),o=t.addTilesetImage("PropsTiles","tiles6Castle"),c=t.addTilesetImage("PlantTiles","tiles2Castle"),s=t.addTilesetImage("WallsTiles2","tiles8Castle"),u=t.createLayer("PortalLayer",o),l=(t.createLayer("GrassLayer",i),t.createLayer("OuterWallsLayer",r),t.createLayer("WallsLayer",s)),p=t.createLayer("PropLayer",o),f=t.createLayer("FenceLayer",a),d=t.createLayer("GateLayer",o),y=t.createLayer("UpperTilesLayer",r),h=t.createLayer("UpperWallsLayer",s),m=t.createLayer("PlantLayer",c),b=t.createLayer("PlantTreeLayer",c);t.createLayer("StairsLayer",n),u.setCollisionByProperty({collide:!0}),l.setCollisionByProperty({collide:!0}),f.setCollisionByProperty({collide:!0}),p.setCollisionByProperty({collide:!0}),m.setCollisionByProperty({collide:!0}),b.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,u,this.HitLayer.bind(this)),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),this.physics.add.collider(this.player,m,this.HitLayer.bind(this)),this.physics.add.collider(this.player,b,this.HitLayer.bind(this));var g=this.cameras.main;g.startFollow(this.player),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManager.create(),this.player.setDepth(10),m.setDepth(11),b.setDepth(12),d.setDepth(13),y.setDepth(14),h.setDepth(15),this.script=this.cache.json.get("scriptData");var v=t.getObjectLayer("ScriptLayer");v&&v.objects&&v.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Yt(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.Dialog.visible){if(this.Dialog.visible)return this.cursors.space.isDown&&this.Dialog.display(!1),!1}else Wt(this)}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&(1!==this.registry.get("ExitAttic")&&"Cutscene4"!=t.properties.portal||1==this.registry.get("ExitAttic")&&"Cutscene4"==t.properties.portal)&&this.scene.switch(t.properties.portal)}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}},{key:"movePlayerAfterCutscene1",value:function(){this.scene.remove("Cutscene2"),this.player.x=1272,this.player.y=510}},{key:"movePlayerAfterCutscene3",value:function(){this.player.x=876,this.player.y=300}}])&&Xt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function Qt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zt(r.key),r)}}function Zt(e){var t=function(e,t){if("object"!==$t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==$t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===$t(t)?t:String(t)}function ei(e,t){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ei(e,t)}function ti(e,t){if(t&&("object"===$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ii(e)}function ii(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ri(e)}var ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ei(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ri(r);if(n){var i=ri(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ti(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene1Attic")).cursors=null,e.player=null,e.animsManager=new J(ii(e)),e.vision=null,e}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("tilesAttic","src/assets/World/InteriorTiles.png"),this.load.image("tiles2Attic","src/assets/World/PropsTiles.png"),this.load.tilemapTiledJSON("mapAttic","src/assets/Scene1/attic.json"),this.animsManager.preload(),this.load.json("scriptData","src/assets/Interactions/script.json"),this.load.image("vision","src/assets/World/Vision.png")}},{key:"create",value:function(){var e=this;this.registry.set("ExitAttic",1),this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:560,y:550,name:"HarapAlb",image:"HarapAlb",speed:200}),this.player.setTexture("HarapAlb","HarapAlb-front");var t=this.make.tilemap({key:"mapAttic"}),i=t.addTilesetImage("InteriorTiles","tilesAttic"),r=t.addTilesetImage("PropsTiles","tiles2Attic"),n=t.createLayer("PortalLayer",r),a=t.createLayer("InteriorLayer",i),o=t.createLayer("Interior2Layer",i),c=t.createLayer("FamiliarLayer",r),s=t.createLayer("Familiar2Layer",r),u=t.createLayer("Interior3Layer",i);a.setCollisionByProperty({collide:!0}),o.setCollisionByProperty({collide:!0}),n.setCollisionByProperty({collide:!0}),c.setCollisionByProperty({collide:!0}),s.setCollisionByProperty({collide:!0}),u.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,n,this.HitLayer.bind(this)),this.physics.add.collider(this.player,a,this.HitLayer.bind(this)),this.physics.add.collider(this.player,o,this.HitLayer.bind(this)),this.physics.add.collider(this.player,c,this.HitLayer.bind(this)),this.physics.add.collider(this.player,s,this.HitLayer.bind(this)),this.physics.add.collider(this.player,u,this.HitLayer.bind(this));var l=this.scale.width,p=this.scale.height,f=this.make.renderTexture({width:l,height:p},!0);f.fill(0,1),f.draw(a),f.setTint(665928);var d=this.vision=this.make.image({x:this.player.x,y:this.player.y,key:"vision",add:!1});d.scale=1.15,f.mask=new Phaser.Display.Masks.BitmapMask(this,d),f.mask.invertAlpha=!0;var y=this.cameras.main;y.startFollow(this.player),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManager.create(),this.player.setDepth(10),o.setDepth(11),c.setDepth(12),s.setDepth(13),u.setDepth(14),f.setDepth(15),this.script=this.cache.json.get("scriptData");var h=t.getObjectLayer("ScriptLayer");h&&h.objects&&h.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Zt(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.Dialog.visible){if(this.Dialog.visible)return this.cursors.space.isDown&&this.Dialog.display(!1),!1}else Wt(this);this.vision&&(this.vision.x=this.player.x,this.vision.y=this.player.y)}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&this.scene.start(t.properties.portal)}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&Qt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const ai=i.p+"188c665942782a982915dd834450a837.png",oi=i.p+"e0fa8aa24ef80165055f6e828a548cfd.png",ci=i.p+"5b12bcbc0ba340b7276ec424a86236a0.png",si=i.p+"441d35ccc6dc73f35cc83a604827c633.png",ui=i.p+"1d7730acbbfae9f889fbb6ac30f3cab2.png";function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function pi(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==li(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===li(n)?n:String(n)),r)}var n}function fi(e,t){return fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fi(e,t)}function di(e,t){if(t&&("object"===li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yi(e){return yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yi(e)}var hi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fi(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yi(r);if(n){var i=yi(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return di(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene10")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B48",oi),this.load.image("B49",ci),this.load.image("B50",ai),this.load.image("B51",si),this.load.image("B52",ui)}},{key:"create",value:function(){var e=this,t=["Fiul craiului ce era să facă? Îi spune cu de-amănuntul, căci, dă, care om nu ține la viață înainte de toate?","— Bine, atâta am vrut să aflu din gura ta, pui de viperă ce mi-ai fost, zice atunci Spânul: numai cată să fie așa, că, de te-oi prinde cu oca mică, greu are să-ți cadă. Chiar acum aș putea să te omor, în voia cea bună, dar mi-i milă de tinerețile tale... Dacă vrei să mai vezi soarele cu ochii și să mai calci pe iarbă verde, atunci jură-mi-te pe ascuțișul paloșului tău că mi-i da ascultare și supunere întru toate, chiar și-n foc de ți-aș zice să te arunci.","Și, de azi înainte, eu o să fiu în locul tău nepotul împăratului, despre care mi-ai vorbit, iară tu — sluga mea; și atâta vreme să ai a mă sluji, până când îi muri și iar îi învia. Și oriunde vei merge cu mine, nu care cumva să bleștești din gură către cineva despre ceea ce a urmat între noi, că te-am șters de pe fața pământului. Îți place așa să mai trăiești, bine-de-bine; iară de nu, spune-mi verde în ochi, ca să știu ce leac trebuie să-ți fac...","Fiul craiului, văzându-se prins în clește și fără nici o putere, îi jură credință și supunere întru toate, lăsându-se în știrea lui Dumnezeu, cum a vrea el să facă. Atunci Spânul pune mâna pe cartea, pe banii și pe armele fiului de crai și le ia la sine; apoi îl scoate din fântână și-i dă paloșul să-l sărute, ca semn de pecetluire a jurământului, zicând: ","— De-acum înainte să știi că te cheamă Harap-Alb; aista ți-i numele, și altul nu.","După aceasta încalecă, fiecare pe calul său, și pornesc, Spânul înainte, ca stăpân, Harap-Alb în urmă, ca slugă, mergând spre împărăție, Dumnezeu să ne ție, că cuvântul din poveste, înainte mult mai este."],i=["B49","B48","B48","B50","B51","B52"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&(window.alert("End Of Demo!"),e.scene.start("Main")),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&pi(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const mi=i.p+"3fe1fe8885fcddb9e661ab2c8a81efaa.png",bi=i.p+"fac3e80871898704ea11666dfd15b818.png";function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function vi(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==gi(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===gi(n)?n:String(n)),r)}var n}function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wi(e,t)}function Oi(e,t){if(t&&("object"===gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}var Pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Si(r);if(n){var i=Si(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Oi(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene5")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B31",mi),this.load.image("B32",bi)}},{key:"create",value:function(){var e=this,t=["Și, prin dreptul podului, numai iaca îi iese și lui ursul înainte, mornăind înfricoșat.","Calul atunci dă năvală asupra ursului, și fiul craiului, ridică buzduganul să dea. "],i=["B31","B32"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Board"),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&vi(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const ji=i.p+"401126ba66e0088f4f4ffc77c30307e8.png",ki=i.p+"3a823f8e27d11ad5033615dc35c9aeef.png",Ti=i.p+"df51c7a39d0265508857366e65bc957a.png";function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function xi(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Bi(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Bi(n)?n:String(n)),r)}var n}function Di(e,t){return Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Di(e,t)}function Ci(e,t){if(t&&("object"===Bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ri(e){return Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ri(e)}var _i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Di(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ri(r);if(n){var i=Ri(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ci(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene6")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B33",ji),this.load.image("B34",ki),this.load.image("B35",Ti),this.load.audio("music5","src/assets/music/OmuleCatAiTraiSLOWEDandREVERB.mp3")}},{key:"create",value:function(){var e=this,t=this.sound.add("music5",{volume:.2,loop:!0});0===this.registry.get("HarapAlbMusicOption")||"true"===localStorage.getItem("HarapAlb-musicOff")?F(this,t,!0):F(this,t,!1);var i=["- Dragul tatei, nu da, că eu sunt!","Atunci fiul craiului descalecă, și tată-său, cuprinzându-l în brațe, îl sărută și-i zice: ","- Fătul meu, bun tovarăș ți-ai ales; de te-a învățat cineva, bine ți-a priit, iară de-ai făcut-o din capul tău, bun cap ai avut. Mergi de-acum tot înainte, că tu ești vrednic de împărat. Numai ține minte sfatul ce-ți dau: în călătoria ta ai să ai trebuință și de răi, și de buni, dar să te ferești de omul roș, iară mai ales de cel spân, cât îi putea; să n-ai de-a face cu dânșii, căci sunt foarte șugubeți. Și, la toată întâmplarea, calul, tovarășul tău, te-a mai sfătui și el ce ai să faci, că de multe primejdii m-a scăpat și pe mine în tinerețile mele!","- Na-ți acum și pielea asta de urs, că ți-a prinde bine vreodată. Mergeți în pace, dragii mei. De-acum înainte, Dumnezeu știe când ne-om mai vedea!... "],r=["B33","B34","B35","B35"],n=0;this.Background=this.add.image(10,10,r[n]),this.Dialog.setText(i[n]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++n>=i.length&&(F(e,t,!0),e.scene.wake("Scene2")),e.Background=e.add.image(10,10,r[n]),e.Dialog.setText(i[n]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&xi(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Ei=i.p+"385b7bcfa9d02c056242d60160ede9fc.png",Ai=i.p+"0e623d52f042912bc278b7908ff5eb02.png";function Li(e){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li(e)}function Hi(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Li(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Li(n)?n:String(n)),r)}var n}function zi(e,t){return zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zi(e,t)}function Ii(e,t){if(t&&("object"===Li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gi(e){return Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gi(e)}var Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zi(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gi(r);if(n){var i=Gi(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ii(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene7")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B36",Ei),this.load.image("B37",Ai)}},{key:"create",value:function(){var e=this;le(this);var t=["— Bun întâlnișul, voinice! Nu ai trebuință de slugă la drum? Prin locurile iestea e cam greu de călătorit singur; nu cumva să-ți iasă vro dihanie ceva înainte și să-ți scurteze cărările. Eu cunosc bine pe-aici, și poate mai încolo să ai nevoie de unul ca mine.","— Poate să am, poate să n-am, zise fiul craiului, dar acum deodată mă las în voia întâmplării."],i=["B36","B37"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.wake("Scene2Forest"),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&Hi(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function Fi(e){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(e)}function Wi(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Fi(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Fi(n)?n:String(n)),r)}var n}function Ni(e,t){return Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ni(e,t)}function Xi(e,t){if(t&&("object"===Fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(e)}var Vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ni(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yi(r);if(n){var i=Yi(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Xi(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene8")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B36",Ei),this.load.image("B37",Ai)}},{key:"create",value:function(){var e=this,t=["— Bună calea, drumețule!","— Bună să-ți fie inima, cum ți-i căutătura.","— Cât despre inima mea, s-o dea Dumnezeu oricui, zise Spânul oftând... Numai ce folos? Omul bun n-are noroc; asta-i știută; rogu-te, să nu-ți fie cu supărare, drumețule, dar fiindcă a venit vorba de-așa, îți spun, ca la un frate, că din cruda copilărie slujesc prin străini, și încaltea nu mi-ar fi ciudă, când n-aș vra să mă dau la treabă, căci cu munca m-am trezit. Dar așa, muncesc, muncesc, și nu s-alege nimica de mine; pentru că tot de stăpâni calici mi-am avut parte. ","Și vorba ceea: La calic slujești, calic rămâi. Când aș da odată peste un stăpân cum gândesc eu, n-aș ști ce să fac să nu-l smintesc. Nu cumva ai trebuință de slugă, voinice? Cum te văd, sameni a avea seu la rărunchi. De ce te scumpești pentru nimica toată și nu-ți iei o slugă vrednică, ca să-ți fie mână de ajutor la drum? Locurile aiestea sunt șugubețe; de unde știi cum vine întâmplarea, și, Doamne ferește, să nu-ți cadă greu singur. ","— Acum deodată încă tot nu, zise fiul craiului cu mâna pe buzdugan; m-oi mai sluji și eu singur, cum oi putea, și dând iar pinteni calului, pornește mai repede. "],i=["B36","B37","B36","B36","B37"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Scene2Forest3",{x:80,y:500}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}}])&&Wi(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Ui=i.p+"e13ea068510998b6126225b7c0a2263e.png",Ki=i.p+"aeec91c7eec8e724af4611740d3c46d5.png",qi=i.p+"394127e41d78fa1b43d05f172f1e98c9.png",Ji=i.p+"a09267bbb927eea330bd90d0dceab185.png",$i=i.p+"1f2b139548527565aad64072b730776c.png",Qi=i.p+"a9e5ee57933db318101b1a0eed460e15.png",Zi=i.p+"037c5ba4cb167076a2c42b2b438cacb1.png",er=i.p+"256a45704cd409f1fb8b7608d6cfd014.png",tr=i.p+"e7c0568023889226f76e80f82c9b0151.png",ir=i.p+"6a5937b60f44f0229319971530355a9d.png";function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function nr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==rr(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===rr(n)?n:String(n)),r)}var n}function ar(e,t){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ar(e,t)}function or(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cr(e){return cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cr(e)}var sr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cr(r);if(n){var i=cr(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return or(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene9")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B36",Ei),this.load.image("B37",Ai),this.load.image("B38",Ui),this.load.image("B39",Ki),this.load.image("B40",qi),this.load.image("B41",Ji),this.load.image("B42",$i),this.load.image("B43",Qi),this.load.image("B44",Zi),this.load.image("B45",ai),this.load.image("B46",er),this.load.image("B47",tr),this.load.image("B48",oi),this.load.image("B49",ci),this.load.image("B50",ir),this.load.image("B51",si),this.load.image("B52",ui)}},{key:"create",value:function(){var e=this,t=["— Ptiu, drace! iaca în ce încurcătură am intrat! Asta-i mai rău decât poftim la masă, zise el. Nici tu sat, nici tu târg, nici tu nimica. De ce mergi înainte, numai peste pustietăți dai; parcă a pierit sămânța omenească de pe fața pământului. Îmi pare rău că n-am luat măcar spânul cel de-al doilea cu mine. Dacă s-a aruncat în partea mâne-sa, ce-i vinovat el?","Tata așa a zis, însă la mare nevoie ce-i de făcut? vorba ceea: Rău-i cu rău, dar e mai rău făr’ de rău. Și tot horhăind el când pe o cărare, când pe un drum părăsit, numai iaca ce iar îi iese Spânul înainte, îmbrăcat altfel și călare pe un cal frumos, și, prefăcându-și glasul, începe a căina pe fiul craiului, zicând:","— Sărmane omule, rău drum ai apucat! Se vede că ești străin și nu cunoști locurile pe aici. Ai avut mare noroc de mine, de n-ai apucat a coborî priporul ista, că erai prăpădit. Ia, colo devale, în înfundătura ceea, un taur grozav la mulți bezmetici le-a curmat zilele. Și eu, mai deunăzi, cât mă vezi de voinic, de-abia am scăpat de dânsul, ca prin urechile acului.","Întoarce-te înapoi, ori, dacă ai de dus înainte, ia-ți un ajutor pe cineva. Chiar și eu m-aș tocmi la d-ta, dacă ți-a fi cu plăcere.","— Așa ar trebui să urmez, om bun, zise fiul craiului, dar ți-oi spune drept: tata mi-a dat în grijă, când am pornit de-acasă, ca să mă feresc de omul roș, iară mai ales de cel spân, cât oi putea; să n-am de a face cu dânșii nici în clin, nici în mânecă; și dacă n-ai fi spân, bucuros te-aș tocmi.","— Hei, hei! călătorule. Dacă ți-i vorba de-așa, ai să-ți rupi ciochinele umblând și tot n-ai să găsești slugă cum cauți d-ta, că pe-aici sunt numai oameni spâni. Ș-apoi, când este la adicălea, te-aș întreba: ca' ce fel de zăticneală ai putea să întâmpini din pricina asta? Pesemne n-ai auzit vorba ceea: că de păr și de coate-goale nu se plânge nimene. Și când nu sunt ochi negri, săruți și albaștri!","Așa și d-ta: mulțumește lui Dumnezeu că m-ai găsit și tocmește-mă. Și dacă-i apuca odată a te deprinde cu mine, știu bine că n-am să pot scăpa ușor de d-ta, căci așa sunt eu în felul meu, știu una și bună: să-mi slujesc stăpânul cu dreptate. Hai, nu mai sta la îndoială, că mă tem să nu ne-apuce noaptea pe aici. Și când ai avea încaltea un cal bun, calea-valea, dar cu smârțogul ista îți duc vergile.","— Apoi dă, Spânule, nu știu cum să fac, zise fiul craiului. Din copilăria mea sunt deprins a asculta de tată și, tocmindu-te pe tine, parcă-mi vine nu știu cum. Dar, fiindcă mi-au mai ieșit până acum înainte încă doi spâni, și cu tine al treilea, apoi mai-mi vine a crede că asta-i țara spânilor și n-am încotro; mort-copt, trebuie să te iau cu mine, dacă zici că știi bine locurile pe aici.","Și, din două vorbe, fiul craiului îl tocmește și după aceea pornesc împreună să iasă la drum, pe unde arată Spânul.","Și mergând ei o bucată bună, Spânul se preface că-i e sete și cere plosca cu apă de la stăpânu-său. Fiul craiului i-o dă, și Spânul, cum o pune la gură, pe loc o și ia, oțărându-se, și varsă toată apa dintr-însa. Fiul craiului zice atunci supărat:","— Dar bine, Spânule, de ce te apuci? Nu vezi că pe aici e mare lipsă de apă? Și pe arșița asta o să ne uscăm de sete.","— Să avem iertare, stăpâne! Apa era bâhlită și ne-am fi putut bolnăvi. Cât despre apa bună, nu vă îngrijiți; acuș avem să dăm peste o fântână cu apă dulce și rece ca gheața. Acolo vom poposi puțin, oi clătări plosca bine ș-oi umple-o cu apă proaspătă, ca să avem la drum, căci mai încolo nu prea sunt fântâni, și, din partea apei, mi se pare că i-om duce dorul.","Și cârnind pe o cărare, mai merg ei oleacă înainte, până ce ajung într-o poiană și numai iaca ce dau de o fântână cu ghizdele de stejar și cu un capac deschis în lături. Fântâna era adâncă și nu avea nici roată, nici cumpână, ci numai o scară de coborât până la apă.","— Ei, ei! Spânule, acum să te văd cât ești de vrednic, zise fiul craiului.","Spânul atunci zâmbește puțin și, coborându-se în fântână, umple întâi plosca și o pune la șold.","Apoi, mai stând acolo în fund pe scară, aproape de fața apei, zice: ",'— Ei, da\' ce răcoare-i aici! "Chima răului pe malul pârăului!" Îmi vine să nu mai ies afară. Dumnezeu să ușureze păcatele celui cu fântâna, că bun lucru a mai făcut. Pe arșițele ieste, o răcoreală ca asta mult plătește!',"Mai șede el acolo puțin și apoi iese afară, zicând: ","— Doamne, stăpâne, nu știi cât mă simțesc de ușor; parcă îmi vine să zbor, nu altăceva! Ia vâră-te și d-ta oleacă, să vezi cum ai să te răcorești; așa are să-ți vină de îndemână după asta, de are să ți se pară că ești ușor cum îi pana... ","Fiul craiului, boboc în felul său la trebi de aieste, se potrivește Spânului","și se bagă în fântână, fără să-i trăsnească prin minte ce i se poate întâmpla.","Și cum sta și el acolo de se răcorea, Spânul face tranc!","capacul pe gura fântânii, apoi se suie deasupra lui și zice cu glas răutăcios: ","— Alelei! fecior de om viclean ce te găsești; tocmai de ceea ce te-ai păzit n-ai scăpat. Ei, că bine mi te-am căptușit! Acum să-mi spui tu cine ești, de unde vii și încotro te duci, că, de nu, acolo îți putrezesc ciolanele!"],i=["B37","B37","B36","B36","B37","B36","B36","B37","B38","B38","B37","B36","B39","B40","B42","B42","B42","B42","B41","B44","B45","B46","B47","B48"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("QuickMath",{x:80,y:500}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&nr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function lr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==ur(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===ur(n)?n:String(n)),r)}var n}var pr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.scene=t)}var t,i;return t=e,(i=[{key:"preload",value:function(){this.scene.load.atlas("horse","src/assets/Player/horse.png","src/assets/Player/horse.json")}},{key:"create",value:function(){var e=this.scene.anims;e.create({key:"horse-walk-left",frames:e.generateFrameNames("horse",{prefix:"horse-walk-left.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"horse-walk-right",frames:e.generateFrameNames("horse",{prefix:"horse-walk-right.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"horse-walk-front",frames:e.generateFrameNames("horse",{prefix:"horse-walk-front.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"horse-walk-back",frames:e.generateFrameNames("horse",{prefix:"horse-walk-back.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1})}}])&&lr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function dr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yr(r.key),r)}}function yr(e){var t=function(e,t){if("object"!==fr(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===fr(t)?t:String(t)}function hr(e,t){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hr(e,t)}function mr(e,t){if(t&&("object"===fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gr(e){return gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gr(e)}var vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hr(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gr(r);if(n){var i=gr(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return mr(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene2")).music=null,e.cursors=null,e.player=null,e.animsManagerOnHorse=new pr(br(e)),e}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("tilesOutsideCastle","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles1OutsideCastle","src/assets/World/BridgeTiles.png"),this.load.image("tiles2OutsideCastle","src/assets/World/PlantTiles.png"),this.load.image("tiles3OutsideCastle","src/assets/World/FenceTiles.png"),this.load.image("tiles5OutsideCastle","src/assets/World/StoneTiles.png"),this.load.image("tiles6OutsideCastle","src/assets/World/PropsTiles.png"),this.load.image("tiles7OutsideCastle","src/assets/World/StructureTiles.png"),this.load.image("tiles8OutsideCastle","src/assets/World/WallsTiles2.png"),this.load.image("tiles9OutsideCastle","src/assets/World/WaterTiles.png"),this.load.tilemapTiledJSON("mapOutsideCastle","src/assets/Scene2/Scene2.json"),this.animsManagerOnHorse.preload(),this.load.json("scriptDataHorse","src/assets/Interactions/scriptOnHorse.json"),this.load.audio("music3","src/assets/music/OmuleCatAiTrai.mp3")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.events.on("wake",(function(){return e.movePlayerAfterCutscene6()})),this.animsManagerOnHorse.create(),this.music=this.sound.add("music3",{volume:.2,loop:!0}),0===this.registry.get("HarapAlbMusicOption")||"true"===localStorage.getItem("HarapAlb-musicOff")?F(this,this.music,!0):F(this,this.music,!1),this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"horse",image:"horse",speed:270}),this.player.setTexture("horse","horse-front");var t=this.make.tilemap({key:"mapOutsideCastle"}),i=t.addTilesetImage("SimpleGrassTiles","tilesOutsideCastle"),r=t.addTilesetImage("StoneTiles","tiles5OutsideCastle"),n=t.addTilesetImage("PropsTiles","tiles6OutsideCastle"),a=t.addTilesetImage("PlantTiles","tiles2OutsideCastle"),o=t.addTilesetImage("WallsTiles2","tiles8OutsideCastle"),c=t.addTilesetImage("StructureTiles","tiles7OutsideCastle"),s=t.addTilesetImage("NearWaterTiles","tiles9OutsideCastle"),u=t.addTilesetImage("BridgeTiles","tiles1OutsideCastle"),l=(t.createLayer("GrassLayer",i),t.createLayer("OuterWallsLayer",r),t.createLayer("OuterGrassLayer",a),t.createLayer("WallsLayer",o)),p=t.createLayer("GateLayer",c),f=t.createLayer("PlantLayer",a),d=t.createLayer("PlantTreeLayer",a),y=t.createLayer("WaterLayer",s),h=t.createLayer("BridgeLayer",u),m=t.createLayer("OuterBridgeLayer",u),b=t.createLayer("PropsLayer",n);p.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),l.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),f.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),d.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,d,this.HitLayer.bind(this)),y.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,y,this.HitLayer.bind(this)),h.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,h,this.HitLayer.bind(this)),b.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,b,this.HitLayer.bind(this)),m.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,m,this.HitLayer.bind(this));var g=this.cameras.main;g.startFollow(this.player),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.player.setDepth(10),f.setDepth(11),d.setDepth(12),this.script=this.cache.json.get("scriptDataHorse");var v=t.getObjectLayer("ScriptLayer");v&&v.objects&&v.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=yr(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(Wt(this),this.Dialog.visible)return player.body.velocity.x=0,player.body.velocity.y=0,this.cursors.space.isDown&&this.Dialog.display(!1),!1}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&(F(this,this.music,!0),"Scene2Forest"===t.properties.portal?this.scene.start(t.properties.portal,{x:100,y:500}):this.scene.switch(t.properties.portal))}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}},{key:"movePlayerAfterCutscene6",value:function(){this.scene.remove("Cutscene6"),this.player.x=3220,this.player.y=1444}}])&&dr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function wr(e){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(e)}function Or(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sr(r.key),r)}}function Sr(e){var t=function(e,t){if("object"!==wr(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===wr(t)?t:String(t)}function Pr(e,t){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pr(e,t)}function jr(e,t){if(t&&("object"===wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tr(e){return Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tr(e)}var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tr(r);if(n){var i=Tr(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return jr(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene2Forest")).cursors=null,e.player=null,e.animsManager=new pr(kr(e)),e.script=null,e}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("tilesCodru","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles2Codru","src/assets/World/PlantTiles.png"),this.load.image("tiles6Codru","src/assets/World/PropsTiles.png"),this.load.image("spanT","src/assets/Player/span.png"),this.load.tilemapTiledJSON("mapCodru","src/assets/Scene2/Scene2Forest.json"),this.animsManager.preload(),this.load.json("scriptDataHorse","src/assets/Interactions/scriptOnHorse.json")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.events.on("wake",(function(){return e.movePlayerAfterCutscene7()})),this.events.on("transitionwake",(function(){return e.movePlayerAfterCutscene8()})),this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"horse",image:"horse",speed:270}),this.player.setTexture("horse","horse-front");var t=this.make.tilemap({key:"mapCodru"}),i=t.addTilesetImage("SimpleGrassTiles","tilesCodru"),r=t.addTilesetImage("PropsTiles","tiles6Codru"),n=t.addTilesetImage("PlantTiles","tiles2Codru"),a=t.addTilesetImage("span","spanT"),o=(t.createLayer("GrassLayer",i),t.createLayer("SpanLayer",a),t.createLayer("PropsLayer",r)),c=t.createLayer("BushesLayer",n),s=t.createLayer("PlantLayer",n),u=t.createLayer("Plant2Layer",n),l=t.createLayer("Plant3Layer",n),p=t.createLayer("Plant4Layer",n),f=t.createLayer("Plant5Layer",n),d=t.createLayer("Plant6Layer",n);o.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,o,this.HitLayer.bind(this)),s.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,s,this.HitLayer.bind(this)),u.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,u,this.HitLayer.bind(this)),l.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),p.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),f.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),d.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,d,this.HitLayer.bind(this)),c.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,c,this.HitLayer.bind(this));var y=this.cameras.main;y.startFollow(this.player),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManager.create(),this.player.setDepth(10),o.setDepth(11),c.setDepth(12),s.setDepth(13),u.setDepth(14),l.setDepth(15),p.setDepth(16),f.setDepth(17),d.setDepth(18),this.script=this.cache.json.get("scriptDataHorse");var h=t.getObjectLayer("ScriptLayer");h&&h.objects&&h.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Sr(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(Wt(this),this.Dialog.visible)return player.body.velocity.x=0,player.body.velocity.y=0,this.cursors.space.isDown&&this.Dialog.display(!1),!1}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&this.scene.switch(t.properties.portal)}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}},{key:"movePlayerAfterCutscene7",value:function(){this.scene.remove("Cutscene7"),this.player.x=3400,this.player.y=830}},{key:"movePlayerAfterCutscene8",value:function(){this.player.x=90,this.player.y=600}}])&&Or(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}function Dr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cr(r.key),r)}}function Cr(e){var t=function(e,t){if("object"!==xr(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===xr(t)?t:String(t)}function Rr(e,t){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rr(e,t)}function _r(e,t){if(t&&("object"===xr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ar(e){return Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ar(e)}var Lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rr(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ar(r);if(n){var i=Ar(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return _r(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene2Forest3")).cursors=null,e.player=null,e.animsManagerOnHorse=new pr(Er(e)),e.script=null,e}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("tilesCodru3","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles2Codru3","src/assets/World/PlantTiles.png"),this.load.image("tiles6Codru3","src/assets/World/PropsTiles.png"),this.load.image("spanT","src/assets/Player/span.png"),this.load.tilemapTiledJSON("mapCodru3","src/assets/Scene2/Scene2ForestSplitPart2.json"),this.animsManagerOnHorse.preload(),this.load.json("scriptDataHorse","src/assets/Interactions/scriptOnHorse.json")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"horse",image:"horse",speed:270}),this.player.setTexture("horse","horse-front");var t=this.make.tilemap({key:"mapCodru3"}),i=t.addTilesetImage("SimpleGrassTiles","tilesCodru3"),r=t.addTilesetImage("PropsTiles","tiles6Codru3"),n=t.addTilesetImage("PlantTiles","tiles2Codru3"),a=t.addTilesetImage("span","spanT"),o=(t.createLayer("GrassLayer",i),t.createLayer("SpanLayer",a),t.createLayer("PropsLayer",r)),c=t.createLayer("BushesLayer",n),s=t.createLayer("PlantLayer",n),u=t.createLayer("Plant2Layer",n),l=t.createLayer("Plant3Layer",n),p=t.createLayer("Plant4Layer",n),f=t.createLayer("Plant5Layer",n),d=t.createLayer("Plant6Layer",n);o.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,o,this.HitLayer.bind(this)),s.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,s,this.HitLayer.bind(this)),u.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,u,this.HitLayer.bind(this)),l.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),p.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),f.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),d.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,d,this.HitLayer.bind(this)),c.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,c,this.HitLayer.bind(this));var y=this.cameras.main;y.startFollow(this.player),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManagerOnHorse.create(),this.player.setDepth(10),o.setDepth(11),c.setDepth(12),s.setDepth(13),u.setDepth(14),l.setDepth(15),p.setDepth(16),f.setDepth(17),d.setDepth(18),this.script=this.cache.json.get("scriptDataHorse");var h=t.getObjectLayer("ScriptLayer");h&&h.objects&&h.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Cr(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(Wt(this),this.Dialog.visible)return player.body.velocity.x=0,player.body.velocity.y=0,this.cursors.space.isDown&&this.Dialog.display(!1),!1}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&this.scene.start(t.properties.portal)}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&Dr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Hr=i.p+"90cdc5cf4f47780f81930f0c5474328b.png",zr=i.p+"38b891b4a09ce3c7165ec746a1ab6cda.png",Ir=i.p+"61cafe87c7514d88cd082998dddffefc.png",Gr=i.p+"e29a261b455511749162477e59b6b380.png",Mr=i.p+"5a5dea18ac2897ad0112372c20353e03.png",Fr=i.p+"df3c306bb08baf02667364255c36e55a.png",Wr=i.p+"b171866c1f3c3f2ef059d7ec72376243.png";function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function Xr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Nr(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Nr(n)?n:String(n)),r)}var n}function Yr(e,t){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yr(e,t)}function Vr(e,t){if(t&&("object"===Nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ur(e){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ur(e)}var Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yr(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ur(r);if(n){var i=Ur(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Vr(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene11")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B1",Hr),this.load.image("B11",zr),this.load.image("B2",Ir),this.load.image("B3",Gr),this.load.image("B4",Mr),this.load.image("B5",Fr),this.load.image("B6",Wr)}},{key:"create",value:function(){var e=this,t=["Şi merg ei, şi merg, cale lungă să le-ajungă, trecând peste nouă mări, peste nouă ţări şi peste nouă ape mari, şi într-o târzie vreme ajung la împărăţie.","Şi cum ajung, Spânul se înfăţişază înaintea împăratului cu carte din partea craiului. ","Şi împăratul Verde, citind cartea, arde de bucurie că i-a venit nepotul, şi pe dată îl şi face cunoscut curţii şi fetelor sale, care îl primesc cu toată cinstea cuvenită unui fiu de crai şi moştenitor al împăratului.","Atunci Spânul, văzând că i s-au prins minciunile de bine, cheamă la sine pe Harap-Alb şi-i zice cu asprime:\n– Tu să şezi la grajd nedezlipit şi să îngrijeşti de calul meu ca de ochii din cap, că de - oi veni pe - acolo şi n - oi găsi trebile făcute după plac, vai de pielea ta are să fie.Dar până atunci, na - ţi o palmă, ca să ţii minte ce ţi - am spus.Bagat - ai în cap vorbele mele ?","– Da, stăpâne, zise Harap-Alb, lăsând ochii în jos. Şi, ieşind, porneşte la grajd. Cu asta a voit Spânul să-şi arate arama şi să facă pe HarapAlb ca să-i ia şi mai mult frica.","Amu, cum şedea Spânul la ospăţ împreună cu moşu-său, cu verele sale şi cu alţii, câţi se întâmplase, li s-au adus mai la urmă în masă şi nişte sălăţi foarte minunate. Atunci împăratul zice Spânului:","– Nepoate, mai mâncat-ai sălăţi de aceste de când eşti?","- Ba nu, tocmai eram să vă întreb de unde le aveţi, că tare-s bune! O haraba întreagă aş fi în stare să mănânc, şi parcă tot nu m-aş sătura.","– Te crede moşul, nepoate, dar când ai şti cu ce greutate se capătă! pentru că numai în Grădina Ursului, dacă-i fi auzit de dânsa, se află sălăţi de aceste, şi mai rar om care să poată lua dintr-însele şi să scape cu viaţă. Între toţi oamenii din împărăţia mea, numai un pădurar se bizuieşte la treaba asta. Şi acela, el ştie ce face, ce drege, de-mi aduce din când în când aşa, câte puţine, de poftă.","Spânul, voind să piardă acum pe Harap-Alb cu orice preţ, zise împăratului: \n\n– Doamne, moşule, de nu mi-a aduce sluga mea sălăţi de aceste şi din piatra seacă, mare lucru să fie!","– Ce vorbeşti, nepoate! unul ca dânsul, şi încă necunoscător de locurile acestea, cum crezi că ar putea face această slujbă? Doar de ţi-i greu de viaţa lui.","– Ia las’, moşule, nu-i duce grija; pun rămăşag că are să-mi aducă, şi încă multe, că ştiu eu ce poate el. \nŞ-odată cheamă Spânul pe Harap-Alb şi-i zice răstit:, Acum degrabă să te duci cum îi şti tu şi să-mi aduci sălăţi de aceste din Grădina Ursului. Hai, ieşi repede şi porneşte, că nu-i vreme de pierdut. Dar nu cumva să faci de altfel, că nici în borta şoarecului nu eşti scăpat de mine!","Harap-Alb iese mâhnit, se duce în grajd şi porneşte la pas"],i=["B1","B11","B2","B4","B6","B2","B3","B4","B3","B4","B3","B4","B6"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Cutscene12"),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&Xr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const qr=i.p+"ac79cd7cebfda45cd0412ecc98755a89.png",Jr=i.p+"7bb4c90495d35d61455ec9d0192b2d18.jpg",$r=i.p+"f29ea2850a088eb0c7b2092fe015beae.png";function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function Zr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Qr(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Qr(n)?n:String(n)),r)}var n}function en(e,t){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},en(e,t)}function tn(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rn(e){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rn(e)}var nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&en(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rn(r);if(n){var i=rn(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return tn(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene12")}return t=o,(i=[{key:"preload",value:function(){le(this),this.load.image("B7",qr),this.load.image("B8",Jr),this.load.image("B37",Ai),this.load.image("B9",$r)}},{key:"create",value:function(){var e=this,t=["Mergând să aducă salata, se opreşte lângă o căsuţă mare singuratică, pe care era crescut nişte muşchi pletos de o podină de gros, moale ca mătasa şi verde ca buraticul. Atunci Harap-Alb descalecă, şi spre mai mare mirarea lui, numai iaca îl întâmpină în pragul uşii cerşetoarea căreia îi dăduse el un ban de pomană, înainte de pornirea lui de acasă.","– Ei, Harap-Alb, aşa-i că ai venit la vorbele mele, că deal cu deal se ajunge, dar încă om cu om? Află acum că eu sunt Sfânta Duminică şi ştiu ce nevoie te-a adus pe la mine. Spânul vrea să-ţi răpună capul cu orice chip şi de-aceea te-a trimis să-i aduci sălăţi din Grădina Ursului, dar i-or da ele odată pe nas… Rămâi aici în astă-noapte, ca să văd ce-i de făcut.","Harap-Alb rămâne bucuros, mulţumind Sfintei Duminici pentru buna găzduire şi îngrijirea ce are de el.","– Fii încredinţat că nu eu, ci puterea milosteniei şi inima ta cea bună te ajută, Harap-Alb, zice Sfânta Duminică ieşind şi lăsându-l în pace să se liniştească.","Şi cum iese Sfânta Duminică afară, odată şi porneşte desculţă prin rouă, de culege o poală de somnoroasă, pe care o fierbe la un loc cu o vadră de lapte dulce şi cu una de miere şi apoi ia mursa aceea şi iute se duce de o toarnă în fântâna din Grădina Ursului, care fântână era plină cu apă până la gură. Şi mai stând Sfânta Duminică oleacă în preajma fântânii, numai iaca ce vede ","că vine ursul cu o falcă în cer şi cu una în pământ, mornăind înfricoşat. Şi cum ajunge la fântână, cum începe a bea lacom la apă şi a-şi linge buzele de dulceaţa şi bunătatea ei. Şi mai stă din băut, şi iar începe a mornăi; şi iar mai bea câte un răstimp, şi iar mornăieşte, până ce, de la o vreme, încep a-i slăbi puterile şi, cuprins de ameţeală, pe loc cade jos şi adoarme mort, de puteai să tai lemne pe dânsul.","Atunci Sfânta Duminică, văzându-l aşa, într-o clipă se duce şi, deşteptând pe Harap-Alb chiar în miezul nopţii, îi zice: ","– Îmbracă-te iute în pielea cea de urs, care o ai de la tată- tău, apucă pe ici tot înainte, şi cum îi ajunge în răscrucile drumului, ai să dai de Grădina Ursului. Atunci sai repede înlăuntru de-ţi ia sălăţi într-ales, şi câte-i vrea de multe, căci pe urs l-am pus eu la cale."],i=["B7","B8","B37","B8","B9","B9","B9","B9"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),M.ScaleToGameW(this.game,this.Background,.8),M.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("BearsMaze"),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),M.ScaleToGameW(e.game,e.Background,.8),M.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&Zr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const an={type:n().AUTO,parent:"GameScreen",width:1166,height:630,physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},plugins:{global:[{key:"CharacterPlugin",plugin:v,start:!0}],scene:[{key:"Dialog",plugin:k,mapping:"Dialog"},{key:"GameInfo",plugin:R,mapping:"GameInfo"}]},scene:[U,z,mt,Jt,kt,ni,_t,Ft,Le,vr,Pi,_i,Br,Mi,Vi,Lr,sr,Xe,hi,Kr,nn,be]};new(n().Game)(an)},791:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"3fa93415a16c676f0d021553087a3575.jpg"},766:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"5312427d470bb22855673a67445b935a.png"},585:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"1d2ba745fd14fb371f7351e1a996f572.png"},254:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"06f5008a8e1c08b26e8319902fe4f5cf.png"},593:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"7597c126c85ade25e318dddf30a6aa9e.png"},427:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"519ca455ea14f41cfe7632e0b12b8818.png"},451:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"d4a11065e0b88d04adea1add3ae131f0.png"},93:(e,t,i)=>{var r={"./Background.jpg":791,"./back.png":766,"./card1.png":585,"./card2.png":254,"./card3.png":593,"./card4.png":427,"./front.png":451};function n(e){var t=a(e);return i(t)}function a(e){if(!i.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=93}},i={};function r(e){var n=i[e];if(void 0!==n)return n.exports;var a=i[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,i,n,a)=>{if(!i){var o=1/0;for(l=0;l<e.length;l++){for(var[i,n,a]=e[l],c=!0,s=0;s<i.length;s++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](i[s])))?i.splice(s--,1):(c=!1,a<o&&(o=a));if(c){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[i,n,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var n,a,[o,c,s]=i,u=0;if(o.some((t=>0!==e[t]))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(s)var l=s(r)}for(t&&t(i);u<o.length;u++)a=o[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},i=self.webpackChunkphaser_bootstrap=self.webpackChunkphaser_bootstrap||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=r.O(void 0,[64],(()=>r(864)));n=r.O(n)})();