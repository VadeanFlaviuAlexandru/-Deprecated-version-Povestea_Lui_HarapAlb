(()=>{var e,t={315:(e,t,i)=>{"use strict";var r=i(260),n=i.n(r);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===a(n)?n:String(n)),r)}var n}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,i,r,n,a=(r=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(n){var i=u(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return c(this,e)});function l(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(i=a.call(this,e,t)).scene=e,i.systems=e.sys,i.borderThickness=3,i.borderColor=16777215,i.borderAlpha=.5,i.windowAlpha=.85,i.windowColor=0,i.windowHeight=200,i.padding=32,i.dialogSpeed=20,i.scrollFactor=0,i.visible=!1,i.graphics={background:null,text:null},i}return t=l,(i=[{key:"boot",value:function(){this._drawBackground(),this._drawText(),this.display(!1),this.systems.events.on("shutdown",this.shutdown,this)}},{key:"shutdown",value:function(){this.timedEvent&&this.timedEvent.remove(),this.graphics.text&&this.graphics.text.destroy()}},{key:"destroy",value:function(){this.shutdown(),this.scene=void 0}},{key:"display",value:function(e){this.visible=void 0===e?!this.visible:e,this.graphics.text&&(this.graphics.text.visible=this.visible),this.graphics.background&&(this.graphics.background.visible=this.visible)}},{key:"setText",value:function(e){var t=this;if(e&&e.split){this.timedEvent&&this.timedEvent.remove(),this.display(!0);var i=e.split("");this.graphics.text.setText(""),this.timedEvent=this.scene.time.addEvent({delay:150-30*this.dialogSpeed,callback:function(e){t.graphics.text.setText(t.graphics.text.text+e[t.graphics.text.text.length]),t.graphics.text.text.length===e.length&&t.timedEvent.remove()},args:[i],callbackScope:this,loop:!0})}}},{key:"_calculateWindowDimensions",value:function(){var e=this.scene.sys.game.config.height,t=this.scene.sys.game.config.width;return{x:this.padding,y:e-this.windowHeight-this.padding,width:t-2*this.padding,height:this.windowHeight}}},{key:"_drawBackground",value:function(){var e=this._calculateWindowDimensions();this.graphics.background=this.scene.add.graphics().setScrollFactor(this.scrollFactor),this.graphics.background.lineStyle(this.borderThickness,this.borderColor,this.borderAlpha),this.graphics.background.fillStyle(this.windowColor,this.windowAlpha),this.graphics.background.strokeRoundedRect(e.x,e.y,e.width,e.height,5),this.graphics.background.fillRoundedRect(e.x,e.y,e.width,e.height,5),this.graphics.background.setDepth(1e3)}},{key:"_drawText",value:function(){var e=this._calculateWindowDimensions(),t=e.x+this.padding,i=e.y+.5*this.padding;this.graphics.text=this.scene.make.text({x:t,y:i,text:"",style:{wordWrap:{width:e.width-this.padding},fontFamily:"Dancing Script",fontSize:"25.5px",lineSpacing:"12"}}).setScrollFactor(this.scrollFactor),this.graphics.text.setDepth(1010)}}])&&o(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(n().Plugins.ScenePlugin);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function d(e,t,i){return(t=b(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function m(e,t,i){return t&&h(e.prototype,t),i&&h(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=S(e);if(t){var n=S(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return O(this,i)}}function O(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var k=function(e){g(i,e);var t=w(i);function i(e){var r,n=e.scene,a=e.x,o=e.y,s=e.image,c=e.name,u=(e.path,e.speed);return y(this,i),(r=t.call(this,n,a,o,s)).name=c||"anonymous",r.speed=u,r.image=s,r.instructions=[],n.physics.world.enable(P(r),0),n.add.existing(P(r)),r}return m(i,[{key:"update",value:function(){this.body.setVelocity(0),this.DoInstructions(),this.body&&0==this.body.velocity.x&&0==this.body.velocity.y&&this.anims.stop()}},{key:"SetInstruction",value:function(e){e.action&&("walk"!=e.action||e.option)&&this.instructions.push(e)}},{key:"DoInstructions",value:function(){for(;this.instructions.length>0;){var e=this.instructions.pop();"walk"===e.action&&this.DoWalk(e.option)}}},{key:"DoWalk",value:function(e){switch(e){case"left":this.body.setVelocityX(-this.speed);break;case"right":this.body.setVelocityX(this.speed);break;case"back":this.body.setVelocityY(-this.speed);break;case"front":this.body.setVelocityY(this.speed)}this.body.velocity.normalize().scale(this.speed),this.body.velocity.y<0?this.anims.play(this.image+"-walk-back",!0):this.body.velocity.y>0?this.anims.play(this.image+"-walk-front",!0):this.body.velocity.x<0?this.anims.play(this.image+"-walk-left",!0):this.body.velocity.x>0&&this.anims.play(this.image+"-walk-right",!0)}}]),i}(n().GameObjects.Sprite),j=function(e){g(i,e);var t=w(i);function i(e){var r;return y(this,i),r=t.call(this,e),e.registerGameObject("character",r.createCharacter),r}return m(i,[{key:"createCharacter",value:function(e){return new k(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({scene:this.scene},e))}}]),i}(n().Plugins.BasePlugin);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function T(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==B(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===B(n)?n:String(n)),r)}var n}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function D(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(n){var i=C(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return D(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"GameOver")}return t=o,(i=[{key:"preload",value:function(){}},{key:"create",value:function(){}},{key:"update",value:function(){}}])&&T(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function E(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==_(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===_(n)?n:String(n)),r)}var n}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,i=[{key:"ScaleToGameW",value:function(e,t,i){t.displayWidth=e.config.width*i,t.scaleY=t.scaleX}},{key:"center",value:function(e,t){t.x=e.config.width/2,t.y=e.config.height/2}}],null&&E(t.prototype,null),i&&E(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function I(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==H(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===H(n)?n:String(n)),r)}var n}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function z(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(r);if(n){var i=W(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return z(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"SceneMain")}return t=o,(i=[{key:"preload",value:function(){this.load.image("controls","src/assets/Main/Buttons/controls.png"),this.load.image("exit","src/assets/Main/Buttons/exit.png"),this.load.image("newgame","src/assets/Main/Buttons/newgame.png"),this.load.image("start","src/assets/Main/Buttons/start.png"),this.load.image("background","src/assets/Main/background.jpg"),this.load.audio("music1","src/assets/music/JocDeInceput.mp3")}},{key:"create",value:function(){var e=this;this.music1=this.sound.add("music1",{volume:.2,loop:!0}),this.music1.play(),this.sound.locked?this.sound.once(Phaser.Sound.Events.UNLOCKED,(function(){e.music1.play()})):this.music1.play(),this.Background=this.add.image(10,10,"background"),R.ScaleToGameW(this.game,this.Background,.9),R.center(this.game,this.Background);var t=this.add.image(.5*this.game.config.width,.6*this.game.config.height,"start").setDisplaySize(150,50).setTint(7501084),i=this.add.image(t.x,t.y+t.displayHeight+10,"newgame").setDisplaySize(150,50).setTint(7501084),r=this.add.image(i.x,i.y+i.displayHeight+10,"controls").setDisplaySize(150,50).setTint(7501084),n=this.add.image(r.x,r.y+r.displayHeight+10,"exit").setDisplaySize(150,50).setTint(7501084);t.setInteractive(),i.setInteractive(),r.setInteractive(),n.setInteractive(),t.on("pointerover",(function(){t.setTint(10601670)})),t.on("pointerdown",(function(){e.scene.start("Cutscene1")})),t.on("pointerout",(function(){t.setTint(7501084)})),i.on("pointerover",(function(){i.setTint(10601670)})),i.on("pointerout",(function(){i.setTint(7501084)})),r.on("pointerover",(function(){r.setTint(10601670)})),r.on("pointerdown",(function(){var e=document.getElementById("myModal"),t=document.getElementsByClassName("close")[0];e.style.display="block",t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}})),r.on("pointerout",(function(){r.setTint(7501084)})),n.on("pointerover",(function(){n.setTint(10601670)})),n.on("pointerdown",(function(){close()})),n.on("pointerout",(function(){n.setTint(7501084)}))}},{key:"update",value:function(){}}])&&I(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const F=i.p+"3e0842dc1fa6d52e634a9522a0a7ec7a.png",M=i.p+"7103ba6981ea00708cb957b6c7f4b633.png",N=i.p+"7d70bcde22f91f7d8407c8a80b0437bc.png",V=i.p+"adaa835799ac9519fc3ba2c6ad1f66aa.png",K=i.p+"060cfb43187961f9ae00b6fc7b64a9c8.png",X=i.p+"dc3b7aaeeb563d7c0e930cd695ae086b.png",Y=i.p+"466c249b5f7e3fca382fbf866a7934f6.png",U=i.p+"9d452a82ab9b9613cec045d36524e87c.png",J=i.p+"2e22bb40e101a3b585b528e869df6012.png",q=i.p+"70afe1127e38a8a7696f70eb5cfe10a8.png",$=i.p+"16e23405206ff0109cca6f0b0ccc3b58.png",Q=i.p+"a898dfc7eac2104603be5766744671f0.png",Z=i.p+"03f48496812276dc36043c83df995f0c.png",ee=i.p+"b4e016364af528754cfc39307c08adc6.png",te=i.p+"e3a7cd2a4f5d51a200ef97491b212fe9.png",ie=i.p+"bd43e2a277f18d223791b20d9c957489.png",re=i.p+"18a2104f2fc9b1b3fc7221a34a09030c.png",ne=i.p+"e773acd02cea480b0569c06b888d2743.png",ae=i.p+"7bb8950a32f9fe873ae72a8b977b97bb.png",oe=i.p+"d6edc9f8cf47510ce4d9e8fe95d71823.png",se=i.p+"430a01e10567a6a41e7c963d5748d299.png";function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function ue(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==ce(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===ce(n)?n:String(n)),r)}var n}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function pe(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fe(r);if(n){var i=fe(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return pe(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene1")}return t=o,(i=[{key:"preload",value:function(){var e=this.cameras.main.width,t=this.cameras.main.height,i=this.make.text({x:e/2,y:t/2-50,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}});i.setOrigin(.5,.5);var r=this.make.text({x:e/2,y:t/2-5,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}});r.setOrigin(.5,.5);var n=this.make.text({x:e/2,y:t/2+50,text:"",style:{font:"18px monospace",fill:"#ffffff"}});n.setOrigin(.5,.5),this.load.on("progress",(function(e){r.setText(parseInt(100*e)+"%")})),this.load.on("complete",(function(){i.destroy(),r.destroy(),n.destroy()})),this.load.image("B1",F),this.load.image("B2",M),this.load.image("B3",N),this.load.image("B4",V),this.load.image("B5",K),this.load.image("B6",X),this.load.image("B7",Y),this.load.image("B8",U),this.load.image("B9",J),this.load.image("B10",q),this.load.image("B11",$),this.load.image("B12",Q),this.load.image("B13",Z),this.load.image("B14",ee),this.load.image("B15",te),this.load.image("B16",ie),this.load.image("B17",re),this.load.image("B18",ne),this.load.image("B19",ae),this.load.image("B20",oe),this.load.image("B21",se),this.load.audio("music2","src/assets/music/Batraneasca.mp3")}},{key:"create",value:function(){var e=this;this.sound.get("music1").stop(),this.music2=this.sound.add("music2",{volume:.2,loop:!0}),this.music2.play(),this.sound.locked?this.sound.once(Phaser.Sound.Events.UNLOCKED,(function(){e.music2.play()})):this.music2.play();var t=["Amu cică era odată într-o țară un crai, care avea trei feciori. Și craiul acela mai avea un frate mai mare, care era împărat într-o altă țară, mai depărtată. Și împăratul, fratele craiului, se numea Verde-împărat; și împăratul Verde nu avea feciori, ci numai fete. Mulți ani trecură la mijloc de când acești frați mai avură prilej a se întâlni amândoi. Iară verii, adică feciorii craiului și fetele împăratului, nu se văzuse niciodată de când erau ei.","Și așa veni împrejurarea de nici împăratul Verde nu cunoștea nepoții săi, nici craiul nepoatele sale: pentru că țara în care împărățea fratele cel mai mare era tocmai la o margine a pământului, și crăia istuilalt la o altă margine. Și apoi, pe vremile acelea, mai toate țările erau bântuite de războaie grozave, drumurile pe ape și pe uscat erau puțin cunoscute și foarte încurcate și de aceea nu se putea călători așa de ușor și fără primejdii ca în ziua de astăzi. Și cine apuca a se duce pe atunci într-o parte a lumii adeseori dus rămânea până la moarte. ","Dar ia să nu ne depărtăm cu vorba și să încep a depăna firul poveștii. ","Amu cică împăratul acela, aproape de bătrânețe, căzând la zăcare, a scris către frăține-său craiului, să-i trimită grabnic pe cel mai vrednic dintre nepoți, ca să-l lase împărat în locul său după moartea sa. ","Craiul, primind cartea, îndată chemă tustrei feciorii înaintea sa și le zise: ","— Iaca ce-mi scrie frate-meu și moșul vostru. Care dintre voi se simte destoinic a împărăți peste o țară așa de mare și bogată, ca aceea, are voie din partea mea să se ducă, ca să împlinească voința cea mai de pe urmă a moșului vostru.","Atunci feciorul cel mai mare ia îndrăzneală și zice :","— Tată, eu cred că mie mi se cuvine această cinste, pentru că sunt cel mai mare dintre frați; de aceea te rog să-mi dai bani de cheltuială, straie de primeneală, arme și cal de călărie, ca să și pornesc, fără zăbavă.","— Bine, dragul tatei, dacă te bizuiești că-i putea răzbate până acolo și crezi că ești în stare a cârmui și pe alții, alege-ți un cal din herghelie, care-i vrea tu, ia-ți bani cât ți-or trebui, haine care ți-or plăcea, arme care-i crede că-ți vin la socoteală și mergi cu bine, fătul meu. ","Atunci feciorul craiului își ia cele trebuitoare, sărută mâna tătâne-său, primind carte de la dânsul către împăratul, zice rămas bun fraților săi și apoi încalecă și pornește cu bucurie spre împărăție. ","Craiul însă, vrând să-l ispitească, tace molcum și, pe înserate, se îmbracă pe ascuns într-o piele de urs, apoi încalecă pe cal, iese înaintea fecioru-său pe altă cale și se bagă sub un pod.","Și când să treacă fiu-său pe acolo, numai iaca la capătul podului îl și întâmpină un urs mormăind.","Atunci calul fiului de crai începe a sări în două picioare, forăind, și cât pe ce să izbească pe stăpânu-său. Și fiul craiului, nemaiputând struni calul și neîndrăznind a mai merge înainte, se întoarnă rușinat înapoi la tatu-său.","— Da' ce-ai uitat, dragul tatei, de te-ai întors înapoi? Aista nu-i semn bun, după cât știu eu. ","— De uitat, n-am uitat nimica, tată, dar ia, prin dreptul unui pod, mi-a ieșit înainte un urs grozav, care m-a vârât în toți spărieții. Și cu mare ce scăpând din labele lui, am găsit cu cale să mă întorc la d-ta acasă decât să fiu prada fiarelor sălbatice. Și de-acum înainte, ducă-se, din partea mea, cine știe, că mie unuia nu-mi trebuie nici împărăție, nici nimica; doar n-am a trăi cât lumea, ca să moștenesc pământul. ",'— Despre aceasta bine ai chitit-o, dragul tatei. Se vede lucru că nici tu nu ești de împărat, nici împărăția pentru tine; și decât să încurci numai așa lumea, mai bine să șezi departe, cum zici, căci, mila Domnului: "Lac de-ar fi, broaște sunt destule". Numai aș vrea să știu, cum rămâne cu moșu-tău. Așa-i că ne-am încurcat în slăbăciune? ',"Atunci feciorul cel mijlociu zice: \n\n— Tată, să mă duc eu, dacă vrei. ",'— Ai toată voia de la mine, fătul meu, dar mare lucru să fie de nu ți s-or tăia și ție cărările. Mai știi păcatul, poate să-ți iasă înainte vreun iepure, ceva... și popâc! m-oi trezi cu tine acasă, ca și cu frate-tău, ș-apoi atunci rușinea ta n-a fi proastă. Dar dă, cearcă și tu, să vezi cum ți-a sluji norocul. Vorba ceea: "Fiecare pentru sine, croitor de pâine". De-i izbuti, bine-de-bine, iară de nu, au mai pățit și alți voinici ca tine... ',"Atunci feciorul cel mijlociu, pregătindu-și cele trebuitoare și primind și el carte din mâna tată-său către împăratul, își ia ziua bună de la frați, și a doua zi pornește și el. Și merge, și merge, până se înnoptează bine.","Și când prin dreptul podului, numai iaca și ursul: mor! mor! mor! Calul fiului de crai începe atunci a forăi, a sări în două picioare și a da înapoi. Și fiul craiului, văzând că nu-i lucru de șagă, se lasă și el de împărăție și, cu rușinea lui, se întoarce înapoi la tată-său acasă.",'— Ei, dragul tatei, așa-i că s-a împlinit vorba ceea: "Apără-mă de găini, că de câini nu mă tem". ',"— Ce fel de vorbă-i asta, tată?! la d-ta urșii se cheamă găini? Ba, ia acum cred eu frăține-meu, că așa urs oștirea întreagă este în stare să o zdrumice... Încă mă mir cum am scăpat cu viață; lehamite și de împărăție și de tot, că doar, slavă Domnului, am ce mânca la casa d-tale. ","— Ce mânca văd eu bine că ai, despre asta nu e vorbă, fătul meu, dar ia spuneți-mi: rușinea unde o puneți? Din trei feciori câți are tata, nici unul să nu fie bun de nimica?! ","Apoi, drept să vă spun, că atunci degeaba mai stricați mâncarea, dragii mei... Să umblați numai așa, frunza frăsinelului, toată viața voastră și să vă lăudați că sunteți feciori de crai, asta nu miroase a nas de om... Cum văd eu, frate-meu se poate culca pe o ureche din partea voastră; la sfântul Așteaptă s-a împlini dorința lui. Halal de nepoți ce are!","Vorba ceea:\n\nLa plăcinte, înainte\nȘi la război, înapoi.","Fiul craiului cel mai mic, făcându-se atunci roș cum îi gotca, iese afară în grădină și începe a plânge în inima sa, lovit fiind în adâncul sufletului de apăsătoarele cuvinte ale părintelui său.","Și cum sta el pe gânduri și nu se dumerea ce să facă pentru a scăpa de rușine, numai iaca se trezește dinaintea lui cu o babă gârbovită de bătrânețe, care umbla după milostenie. ","— Da’ ce stai așa pe gânduri, luminate crăișor? Alungă mâhnirea din inima ta, căci norocul îți râde din toate părțile și nu ai de ce fi supărat. Ia, mai bine miluiește baba cu ceva. ","— Ține, mătușă, de la mine puțin și de la Dumnezeu mult.","— De unde dai, milostivul Dumnezeu să-ți dea și mult să te înzilească, luminate crăișor, că mare norocire te așteaptă. Puțin mai este, și ai să ajungi împărat, care n-a mai stat altul pe fața pământului așa de iubit, de slăvit și de puternic. Acum, luminate crăișor, ca să vezi cât poate să-ți ajute milostenia, stai liniștit, uită-te drept în ochii mei și ascultă cu luare-aminte ce ți-oi spune:","du-te la tată-tău și cere să-ți dea calul, armele și hainele cu care a fost el mire, și atunci ai să te poți duce unde n-au putut merge frații tăi; pentru că ție a fost scris de sus să-ți fie dată această cinste. Tatu-tău s-a împotrivi și n-a vrea să te lase, dar tu stăruiește pe lângă dânsul cu rugăminte, că ai să-l îndupleci. ","Hainele despre care ți-am vorbit sunt vechi și ponosite, și armele ruginite, iară calul ai să-l poți alege punând în mijlocul hergheliei o tavă plină cu jăratic, și care dintre cai a veni la jăratic să mănânce, acela are să te ducă la împărăție și are să te scape din multe primejdii. Ține minte ce-ți spun eu, că poate să ne mai întâlnim la vrun capăt de lume: căci deal cu deal se ajunge, dar încă om cu om! "],i=["B1","B1","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12","B13","B12","B14","B12","B8","B15","B12","B16","B12","B12","B12","B17","B18","B19","B20","B19","B19","B19"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Scene1",{x:360,y:1181}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&ue(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const ye=i.p+"c551fcddcdaae11f2c743a1fedcd02b8.png",he=i.p+"9298ca3a4cf9b74439b8022f40112725.png",me=i.p+"75d73e58d1d206e3eab039fc616626aa.png";function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function ge(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==be(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===be(n)?n:String(n)),r)}var n}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function we(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Oe(r);if(n){var i=Oe(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return we(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene2")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B22",ye),this.load.image("B23",he),this.load.image("B7",me)}},{key:"create",value:function(){var e=this,t=["— Dă-mi voie ca să mă duc și eu pe urma fraților mei, nu de alta, dar ca să-mi încerc norocul. Și ori oi putea izbuti, ori nu, dar îți făgăduiesc dinainte că, odată pornit din casa d-tale, înapoi nu m-oi mai întoarce, să știu bine că m-oi întâlni și cu moartea în cale. ","— Lucru negândit, dragul tatei, să aud așa vorbe tocmai din gura ta, zise craiul. Frații tăi au dovedit că nu au inimă într-înșii, și din partea lor mi-am luat toată nădejdea. Doar tu să fii mai viteaz, dar parcă tot nu-mi vine a crede. Însă, dacă vrei și vrei numaidecât să te duci, eu nu te opresc, dar mi-i nu cumva să te întâlnești cu scârba în drum și să dai și tu cinstea pe rușine, c-apoi atunci curat îți spun că nu mai ai ce căuta la casa mea. ","— Apoi dă, tată, omul e dator să se încerce. Am să pornesc și eu într-un noroc și cum a da Dumnezeu! Numai, te rog, dă-mi calul, armele și hainele cu care ai fost d-ta mire, ca să mă pot duce. ","— Hei, hei! dragul tatei, cu vorba aceasta mi-ai adus aminte de cântecul cela: \n\nVoinic tânăr, cal bătrân,\nGreu se-ngăduie la drum!","D-apoi calul meu de pe atunci cine mai știe unde i-or fi putrezind ciolanele! Că doar nu era să trăiască un veac de om! Cine ți-a vârât în cap și una ca aceasta, acela încă-i unul... Ori vorba ceea: Pesemne umbli după cai morți să le iei potcoavele. ","— Tată, atâta cer și eu de la d-ta. Acum, ori c-a fi trăind calul, ori că n-a fi trăind, aceasta mă privește pe mine; numai vreau să știu dacă mi-l dai ori ba. ","— Din partea mea, dat să-ți fie, dragul tatei, dar mi-i de-a mirarea de unde ai să-l iei, dacă n-are ființă pe lume. ","— Despre aceasta nu mă plâng eu, tată, bine că mi l-ai dat; de unde-a fi, de unde n-a fi, dacă l-oi găsi, al meu să fie. "],i=["B22","B7","B23","B7","B7","B23","B7","B23"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Scene1",{x:1272,y:510}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&ge(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Se=i.p+"e5fd29b8d743c7a6a815602ce51d87c2.png";function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function je(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==ke(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===ke(n)?n:String(n)),r)}var n}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Be(e,t)}function Te(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xe(r);if(n){var i=xe(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Te(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene3")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B25",Se)}},{key:"create",value:function(){var e=this,t=["Niște straie foarte vechi, un arc, niște săgeți, un paloș și un buzdugan, toate pline de rugină... Dacă mă uit bine, văd și un căpăstru, un frâu, un bici și o șa, toate colbăite, sfarogite și vechi ca pământul. "],i=["B25"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Scene1",{x:876,y:300}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&je(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Ce=i.p+"67c98bad2ff3c4e2759304750fc3b1cc.png",Le=i.p+"9f0720d09a38662888660dcc06e1d602.png";function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Ee(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==_e(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===_e(n)?n:String(n)),r)}var n}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Re(e,t)}function He(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ie(r);if(n){var i=Ie(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return He(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene4")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B21",se),this.load.image("B27",me),this.load.image("B28",Ce),this.load.image("B29",Le),this.load.image("B30",he)}},{key:"create",value:function(){var e=this,t=["Pe urmă umple o tavă cu jăratic, se duce la herghelie ","și o pune jos între cai.","Și atunci, numai iaca ce iese din mijlocul hergheliei o răpciugă de cal, grebănos, dupuros și slab, de-i numărai coastele; și venind de-a dreptul la tava, apucă o gură de jăratic. Fiul craiului îi și trage atunci cu frâul în cap, zicând: ","— Ghijoagă urâcioasă ce ești! din toți caii, tocmai tu te-ai găsit să mănânci jăratic? De te-a împinge păcatul să mai vii o dată, vai de steaua ta are să fie! ","pune tarnița pe cal, anină armele la oblânc, își ia merinde și bani de ajuns, schimburi în desagi și o ploscă plină cu apă.","Apoi sărută mâna tată-său, primind carte de la dânsul către împăratul, zice rămas bun fraților săi și a treia zi către seară pornește și el, mergând din pasul calului."],i=["B27","B28","B29","B29","B30","B21"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Scene2",{x:161,y:391}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background),e.registry.destroy("ExitAttic")}))}},{key:"update",value:function(){}}])&&Ee(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const ze=i.p+"df95e6ab07f6e3d699b3f86ce98afcc1.png",We=i.p+"bddb76eb33096fc58cdb74e6c8ffca0b.png";function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Fe(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Ge(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Ge(n)?n:String(n)),r)}var n}function Me(e,t){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Me(e,t)}function Ne(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ve(r);if(n){var i=Ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ne(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene5")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B31",ze),this.load.image("B32",We)}},{key:"create",value:function(){var e=this,t=["Și, prin dreptul podului, numai iaca îi iese și lui ursul înainte, mornăind înfricoșat.","Calul atunci dă năvală asupra ursului, și fiul craiului, ridică buzduganul să dea. "],i=["B31","B32"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&(e.scene.start("Board"),e.scene.get("Board").events.once("start",(function(){e.scene.shutdown()}))),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&Fe(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Xe=i.p+"2c710f470233eef9e3715c3c58ca4c87.png",Ye=i.p+"61d7e1c062ab8ad5e67b784743bf500a.png",Ue=i.p+"a5f682ce16461857d7e92ad7084c761c.png";function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function qe(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Je(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Je(n)?n:String(n)),r)}var n}function $e(e,t){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$e(e,t)}function Qe(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$e(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ze(r);if(n){var i=Ze(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Qe(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene6")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B33",Xe),this.load.image("B34",Ye),this.load.image("B35",Ue),this.load.audio("music5","src/assets/music/OmuleCatAiTraiSLOWEDandREVERB.mp3")}},{key:"create",value:function(){var e=this;this.sound.get("music4").stop(),this.music5=this.sound.add("music5",{volume:.2,loop:!0}),this.music5.play(),this.sound.locked?this.sound.once(Phaser.Sound.Events.UNLOCKED,(function(){e.music5.play()})):this.music5.play();var t=["Dragul tatei, nu da, că eu sunt!","Atunci fiul craiului descalecă, și tată-său, cuprinzându-l în brațe, îl sărută și-i zice: ","Fătul meu, bun tovarăș ți-ai ales; de te-a învățat cineva, bine ți-a priit, iară de-ai făcut-o din capul tău, bun cap ai avut. Mergi de-acum tot înainte, că tu ești vrednic de împărat. Numai ține minte sfatul ce-ți dau: în călătoria ta ai să ai trebuință și de răi, și de buni, dar să te ferești de omul roș, iară mai ales de cel spân, cât îi putea; să n-ai de-a face cu dânșii, căci sunt foarte șugubeți. Și, la toată întâmplarea, calul, tovarășul tău, te-a mai sfătui și el ce ai să faci, că de multe primejdii m-a scăpat și pe mine în tinerețile mele!","Na-ți acum și pielea asta de urs, că ți-a prinde bine vreodată. Mergeți în pace, dragii mei. De-acum înainte, Dumnezeu știe când ne-om mai vedea!... "],i=["B33","B34","B35","B35"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&(e.scene.start("Scene2AfterBridge",{x:3220,y:1444}),e.scene.get("Scene2").events.once("start",(function(){e.scene.shutdown()}))),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&qe(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const tt=i.p+"54560f8ae551d3f3c490fb7857e475bb.png",it=i.p+"6a6efd596b13e16eb9355b5f794a293a.png";function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==rt(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===rt(n)?n:String(n)),r)}var n}function at(e,t){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},at(e,t)}function ot(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}var ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=st(r);if(n){var i=st(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ot(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene7")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B36",tt),this.load.image("B37",it)}},{key:"init",value:function(e){this.cutscene1=e.cutscene1,this.cutscene2=e.cutscene2}},{key:"create",value:function(){var e=this,t=["— Bun întâlnișul, voinice! Nu ai trebuință de slugă la drum? Prin locurile iestea e cam greu de călătorit singur; nu cumva să-ți iasă vro dihanie ceva înainte și să-ți scurteze cărările. Eu cunosc bine pe-aici, și poate mai încolo să ai nevoie de unul ca mine.","— Poate să am, poate să n-am, zise fiul craiului, dar acum deodată mă las în voia întâmplării."],i=[this.cutscene1,this.cutscene2],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Scene2Forest2",{x:3400,y:830}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&nt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function lt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==ut(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===ut(n)?n:String(n)),r)}var n}function pt(e,t){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pt(e,t)}function ft(e,t){if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dt(r);if(n){var i=dt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ft(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene8")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B36",tt),this.load.image("B37",it)}},{key:"init",value:function(e){this.cutscene11=e.cutscene11,this.cutscene22=e.cutscene22}},{key:"create",value:function(){var e=this,t=["— Bună calea, drumețule!","— Bună să-ți fie inima, cum ți-i căutătura.","— Cât despre inima mea, s-o dea Dumnezeu oricui, zise Spânul oftând... Numai ce folos? Omul bun n-are noroc; asta-i știută; rogu-te, să nu-ți fie cu supărare, drumețule, dar fiindcă a venit vorba de-așa, îți spun, ca la un frate, că din cruda copilărie slujesc prin străini, și încaltea nu mi-ar fi ciudă, când n-aș vra să mă dau la treabă, căci cu munca m-am trezit. Dar așa, muncesc, muncesc, și nu s-alege nimica de mine; pentru că tot de stăpâni calici mi-am avut parte. ","Și vorba ceea: La calic slujești, calic rămâi. Când aș da odată peste un stăpân cum gândesc eu, n-aș ști ce să fac să nu-l smintesc. Nu cumva ai trebuință de slugă, voinice? Cum te văd, sameni a avea seu la rărunchi. De ce te scumpești pentru nimica toată și nu-ți iei o slugă vrednică, ca să-ți fie mână de ajutor la drum? Locurile aiestea sunt șugubețe; de unde știi cum vine întâmplarea, și, Doamne ferește, să nu-ți cadă greu singur. ","— Acum deodată încă tot nu, zise fiul craiului cu mâna pe buzdugan; m-oi mai sluji și eu singur, cum oi putea, și dând iar pinteni calului, pornește mai repede. "],i=[this.cutscene11,this.cutscene22,this.cutscene11,this.cutscene11,this.cutscene22],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("Scene2Forest3",{x:80,y:500}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&lt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const ht=i.p+"e65209c6e1bd8698fdb6829347349123.png",mt=i.p+"f976fd3087d3e8a55e852e11cb06b0bf.png",bt=i.p+"394127e41d78fa1b43d05f172f1e98c9.png",gt=i.p+"a09267bbb927eea330bd90d0dceab185.png",vt=i.p+"1f2b139548527565aad64072b730776c.png",wt=i.p+"a9e5ee57933db318101b1a0eed460e15.png",Ot=i.p+"037c5ba4cb167076a2c42b2b438cacb1.png",Pt=i.p+"188c665942782a982915dd834450a837.png",St=i.p+"256a45704cd409f1fb8b7608d6cfd014.png",kt=i.p+"e7c0568023889226f76e80f82c9b0151.png",jt=i.p+"e0fa8aa24ef80165055f6e828a548cfd.png",Bt=i.p+"5b12bcbc0ba340b7276ec424a86236a0.png",Tt=i.p+"6a5937b60f44f0229319971530355a9d.png",xt=i.p+"441d35ccc6dc73f35cc83a604827c633.png",Dt=i.p+"1d7730acbbfae9f889fbb6ac30f3cab2.png";function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Lt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Ct(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Ct(n)?n:String(n)),r)}var n}function _t(e,t){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_t(e,t)}function Et(e,t){if(t&&("object"===Ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_t(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rt(r);if(n){var i=Rt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Et(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene9")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B36",tt),this.load.image("B37",it),this.load.image("B38",ht),this.load.image("B39",mt),this.load.image("B40",bt),this.load.image("B41",gt),this.load.image("B42",vt),this.load.image("B43",wt),this.load.image("B44",Ot),this.load.image("B45",Pt),this.load.image("B46",St),this.load.image("B47",kt),this.load.image("B48",jt),this.load.image("B49",Bt),this.load.image("B50",Tt),this.load.image("B51",xt),this.load.image("B52",Dt)}},{key:"create",value:function(){var e=this,t=["— Ptiu, drace! iaca în ce încurcătură am intrat! Asta-i mai rău decât poftim la masă, zise el. Nici tu sat, nici tu târg, nici tu nimica. De ce mergi înainte, numai peste pustietăți dai; parcă a pierit sămânța omenească de pe fața pământului. Îmi pare rău că n-am luat măcar spânul cel de-al doilea cu mine. Dacă s-a aruncat în partea mâne-sa, ce-i vinovat el?","Tata așa a zis, însă la mare nevoie ce-i de făcut? vorba ceea: Rău-i cu rău, dar e mai rău făr’ de rău. Și tot horhăind el când pe o cărare, când pe un drum părăsit, numai iaca ce iar îi iese Spânul înainte, îmbrăcat altfel și călare pe un cal frumos, și, prefăcându-și glasul, începe a căina pe fiul craiului, zicând:","— Sărmane omule, rău drum ai apucat! Se vede că ești străin și nu cunoști locurile pe aici. Ai avut mare noroc de mine, de n-ai apucat a coborî priporul ista, că erai prăpădit. Ia, colo devale, în înfundătura ceea, un taur grozav la mulți bezmetici le-a curmat zilele. Și eu, mai deunăzi, cât mă vezi de voinic, de-abia am scăpat de dânsul, ca prin urechile acului.","Întoarce-te înapoi, ori, dacă ai de dus înainte, ia-ți un ajutor pe cineva. Chiar și eu m-aș tocmi la d-ta, dacă ți-a fi cu plăcere.","— Așa ar trebui să urmez, om bun, zise fiul craiului, dar ți-oi spune drept: tata mi-a dat în grijă, când am pornit de-acasă, ca să mă feresc de omul roș, iară mai ales de cel spân, cât oi putea; să n-am de a face cu dânșii nici în clin, nici în mânecă; și dacă n-ai fi spân, bucuros te-aș tocmi.","— Hei, hei! călătorule. Dacă ți-i vorba de-așa, ai să-ți rupi ciochinele umblând și tot n-ai să găsești slugă cum cauți d-ta, că pe-aici sunt numai oameni spâni. Ș-apoi, când este la adicălea, te-aș întreba: ca' ce fel de zăticneală ai putea să întâmpini din pricina asta? Pesemne n-ai auzit vorba ceea: că de păr și de coate-goale nu se plânge nimene. Și când nu sunt ochi negri, săruți și albaștri!","Așa și d-ta: mulțumește lui Dumnezeu că m-ai găsit și tocmește-mă. Și dacă-i apuca odată a te deprinde cu mine, știu bine că n-am să pot scăpa ușor de d-ta, căci așa sunt eu în felul meu, știu una și bună: să-mi slujesc stăpânul cu dreptate. Hai, nu mai sta la îndoială, că mă tem să nu ne-apuce noaptea pe aici. Și când ai avea încaltea un cal bun, calea-valea, dar cu smârțogul ista îți duc vergile.","— Apoi dă, Spânule, nu știu cum să fac, zise fiul craiului. Din copilăria mea sunt deprins a asculta de tată și, tocmindu-te pe tine, parcă-mi vine nu știu cum. Dar, fiindcă mi-au mai ieșit până acum înainte încă doi spâni, și cu tine al treilea, apoi mai-mi vine a crede că asta-i țara spânilor și n-am încotro; mort-copt, trebuie să te iau cu mine, dacă zici că știi bine locurile pe aici.","Și, din două vorbe, fiul craiului îl tocmește și după aceea pornesc împreună să iasă la drum, pe unde arată Spânul.","Și mergând ei o bucată bună, Spânul se preface că-i e sete și cere plosca cu apă de la stăpânu-său. Fiul craiului i-o dă, și Spânul, cum o pune la gură, pe loc o și ia, oțărându-se, și varsă toată apa dintr-însa. Fiul craiului zice atunci supărat:","— Dar bine, Spânule, de ce te apuci? Nu vezi că pe aici e mare lipsă de apă? Și pe arșița asta o să ne uscăm de sete.","— Să avem iertare, stăpâne! Apa era bâhlită și ne-am fi putut bolnăvi. Cât despre apa bună, nu vă îngrijiți; acuș avem să dăm peste o fântână cu apă dulce și rece ca gheața. Acolo vom poposi puțin, oi clătări plosca bine ș-oi umple-o cu apă proaspătă, ca să avem la drum, căci mai încolo nu prea sunt fântâni, și, din partea apei, mi se pare că i-om duce dorul.","Și cârnind pe o cărare, mai merg ei oleacă înainte, până ce ajung într-o poiană și numai iaca ce dau de o fântână cu ghizdele de stejar și cu un capac deschis în lături. Fântâna era adâncă și nu avea nici roată, nici cumpână, ci numai o scară de coborât până la apă.","— Ei, ei! Spânule, acum să te văd cât ești de vrednic, zise fiul craiului.","Spânul atunci zâmbește puțin și, coborându-se în fântână, umple întâi plosca și o pune la șold.","Apoi, mai stând acolo în fund pe scară, aproape de fața apei, zice: ",'— Ei, da\' ce răcoare-i aici! "Chima răului pe malul pârăului!" Îmi vine să nu mai ies afară. Dumnezeu să ușureze păcatele celui cu fântâna, că bun lucru a mai făcut. Pe arșițele ieste, o răcoreală ca asta mult plătește!',"Mai șede el acolo puțin și apoi iese afară, zicând: ","— Doamne, stăpâne, nu știi cât mă simțesc de ușor; parcă îmi vine să zbor, nu altăceva! Ia vâră-te și d-ta oleacă, să vezi cum ai să te răcorești; așa are să-ți vină de îndemână după asta, de are să ți se pară că ești ușor cum îi pana... ","Fiul craiului, boboc în felul său la trebi de aieste, se potrivește Spânului","și se bagă în fântână, fără să-i trăsnească prin minte ce i se poate întâmpla.","Și cum sta și el acolo de se răcorea, Spânul face tranc!","capacul pe gura fântânii, apoi se suie deasupra lui și zice cu glas răutăcios: ","— Alelei! fecior de om viclean ce te găsești; tocmai de ceea ce te-ai păzit n-ai scăpat. Ei, că bine mi te-am căptușit! Acum să-mi spui tu cine ești, de unde vii și încotro te duci, că, de nu, acolo îți putrezesc ciolanele!"],i=["B37","B37","B36","B36","B37","B36","B36","B37","B38","B38","B37","B36","B39","B40","B42","B42","B42","B42","B41","B44","B45","B46","B47","B48"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&e.scene.start("QuickMath",{x:80,y:500}),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&Lt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function At(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==It(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==It(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===It(n)?n:String(n)),r)}var n}var zt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.scene=t)}var t,i;return t=e,(i=[{key:"preload",value:function(){this.scene.load.atlas("horse","src/assets/Player/horse.png","src/assets/Player/horse.json")}},{key:"create",value:function(){var e=this.scene.anims;e.create({key:"horse-walk-left",frames:e.generateFrameNames("horse",{prefix:"horse-walk-left.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"horse-walk-right",frames:e.generateFrameNames("horse",{prefix:"horse-walk-right.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"horse-walk-front",frames:e.generateFrameNames("horse",{prefix:"horse-walk-front.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"horse-walk-back",frames:e.generateFrameNames("horse",{prefix:"horse-walk-back.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1})}}])&&At(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Gt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ft(r.key),r)}}function Ft(e){var t=function(e,t){if("object"!==Wt(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Wt(t)?t:String(t)}function Mt(e,t){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mt(e,t)}function Nt(e,t){if(t&&("object"===Wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kt(r);if(n){var i=Kt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Nt(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene2Forest")).cursors=null,e.player=null,e.animsManager=new zt(Vt(e)),e.script=null,e}return t=o,(i=[{key:"preload",value:function(){this.load.image("tilesCodru","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles2Codru","src/assets/World/PlantTiles.png"),this.load.image("tiles6Codru","src/assets/World/PropsTiles.png"),this.load.image("spanT","src/assets/Player/span.png"),this.load.tilemapTiledJSON("mapCodru","src/assets/Scene2/Scene2Forest.json"),this.animsManager.preload(),this.load.json("scriptDataHorse","src/assets/Interactions/scriptOnHorse.json")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"horse",image:"horse",speed:270}),this.player.setTexture("horse","horse-front");var t=this.make.tilemap({key:"mapCodru"}),i=t.addTilesetImage("SimpleGrassTiles","tilesCodru"),r=t.addTilesetImage("PropsTiles","tiles6Codru"),n=t.addTilesetImage("PlantTiles","tiles2Codru"),a=t.addTilesetImage("span","spanT"),o=(t.createLayer("GrassLayer",i),t.createLayer("SpanLayer",a),t.createLayer("PropsLayer",r)),s=t.createLayer("BushesLayer",n),c=t.createLayer("PlantLayer",n),u=t.createLayer("Plant2Layer",n),l=t.createLayer("Plant3Layer",n),p=t.createLayer("Plant4Layer",n),f=t.createLayer("Plant5Layer",n),d=t.createLayer("Plant6Layer",n);o.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,o,this.HitLayer.bind(this)),c.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,c,this.HitLayer.bind(this)),u.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,u,this.HitLayer.bind(this)),l.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),p.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),f.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),d.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,d,this.HitLayer.bind(this)),s.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,s,this.HitLayer.bind(this));var y=this.cameras.main;y.startFollow(this.player),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManager.create(),this.player.setDepth(10),o.setDepth(11),s.setDepth(12),c.setDepth(13),u.setDepth(14),l.setDepth(15),p.setDepth(16),f.setDepth(17),d.setDepth(18),this.script=this.cache.json.get("scriptDataHorse");var h=t.getObjectLayer("ScriptLayer");h&&h.objects&&h.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Ft(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.cursors.left.isDown?this.player.SetInstruction({action:"walk",option:"left"}):this.cursors.right.isDown&&this.player.SetInstruction({action:"walk",option:"right"}),this.cursors.up.isDown?this.player.SetInstruction({action:"walk",option:"back"}):this.cursors.down.isDown&&this.player.SetInstruction({action:"walk",option:"front"}),this.player.update(),this.Dialog.visible)return player.body.velocity.x=0,player.body.velocity.y=0,this.cursors.space.isDown&&this.Dialog.display(!1),!1}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&this.scene.start(t.properties.portal,{cutscene1:"B36",cutscene2:"B37"})}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&Gt(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}function Ut(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jt(r.key),r)}}function Jt(e){var t=function(e,t){if("object"!==Yt(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Yt(t)?t:String(t)}function qt(e,t){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qt(e,t)}function $t(e,t){if(t&&("object"===Yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qt(e)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zt(e)}var ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zt(r);if(n){var i=Zt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return $t(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene2Forest2")).cursors=null,e.player=null,e.animsManagerOnHorse=new zt(Qt(e)),e.script=null,e}return t=o,(i=[{key:"preload",value:function(){this.load.image("tilesCodru2","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles2Codru2","src/assets/World/PlantTiles.png"),this.load.image("tiles6Codru2","src/assets/World/PropsTiles.png"),this.load.image("spanT","src/assets/Player/span.png"),this.load.tilemapTiledJSON("mapCodru2","src/assets/Scene2/Scene2Forest.json"),this.animsManagerOnHorse.preload(),this.load.json("scriptDataHorse","src/assets/Interactions/scriptOnHorse.json")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"horse",image:"horse",speed:270}),this.player.setTexture("horse","horse-front");var t=this.make.tilemap({key:"mapCodru2"}),i=t.addTilesetImage("SimpleGrassTiles","tilesCodru2"),r=t.addTilesetImage("PropsTiles","tiles6Codru2"),n=t.addTilesetImage("PlantTiles","tiles2Codru2"),a=t.addTilesetImage("span","spanT"),o=(t.createLayer("GrassLayer",i),t.createLayer("SpanLayer",a),t.createLayer("PropsLayer",r)),s=t.createLayer("BushesLayer",n),c=t.createLayer("PlantLayer",n),u=t.createLayer("Plant2Layer",n),l=t.createLayer("Plant3Layer",n),p=t.createLayer("Plant4Layer",n),f=t.createLayer("Plant5Layer",n),d=t.createLayer("Plant6Layer",n);o.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,o,this.HitLayer.bind(this)),c.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,c,this.HitLayer.bind(this)),u.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,u,this.HitLayer.bind(this)),l.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),p.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),f.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),d.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,d,this.HitLayer.bind(this)),s.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,s,this.HitLayer.bind(this));var y=this.cameras.main;y.startFollow(this.player),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManagerOnHorse.create(),this.player.setDepth(10),o.setDepth(11),s.setDepth(12),c.setDepth(13),u.setDepth(14),l.setDepth(15),p.setDepth(16),f.setDepth(17),d.setDepth(18),this.script=this.cache.json.get("scriptDataHorse");var h=t.getObjectLayer("ScriptLayer");h&&h.objects&&h.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Jt(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.cursors.left.isDown?this.player.SetInstruction({action:"walk",option:"left"}):this.cursors.right.isDown&&this.player.SetInstruction({action:"walk",option:"right"}),this.cursors.up.isDown?this.player.SetInstruction({action:"walk",option:"back"}):this.cursors.down.isDown&&this.player.SetInstruction({action:"walk",option:"front"}),this.player.update(),this.Dialog.visible)return player.body.velocity.x=0,player.body.velocity.y=0,this.cursors.space.isDown&&this.Dialog.display(!1),!1}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&this.scene.start(t.properties.portal,{cutscene11:"B36",cutscene22:"B37"})}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&Ut(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function ti(e){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(e)}function ii(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ri(r.key),r)}}function ri(e){var t=function(e,t){if("object"!==ti(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===ti(t)?t:String(t)}function ni(e,t){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ni(e,t)}function ai(e,t){if(t&&("object"===ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oi(e)}function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},si(e)}var ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ni(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=si(r);if(n){var i=si(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ai(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene2Forest3")).cursors=null,e.player=null,e.animsManagerOnHorse=new zt(oi(e)),e.script=null,e}return t=o,(i=[{key:"preload",value:function(){this.load.image("tilesCodru3","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles2Codru3","src/assets/World/PlantTiles.png"),this.load.image("tiles6Codru3","src/assets/World/PropsTiles.png"),this.load.image("spanT","src/assets/Player/span.png"),this.load.tilemapTiledJSON("mapCodru3","src/assets/Scene2/Scene2ForestSplitPart2.json"),this.animsManagerOnHorse.preload(),this.load.json("scriptDataHorse","src/assets/Interactions/scriptOnHorse.json")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"horse",image:"horse",speed:270}),this.player.setTexture("horse","horse-front");var t=this.make.tilemap({key:"mapCodru3"}),i=t.addTilesetImage("SimpleGrassTiles","tilesCodru3"),r=t.addTilesetImage("PropsTiles","tiles6Codru3"),n=t.addTilesetImage("PlantTiles","tiles2Codru3"),a=t.addTilesetImage("span","spanT"),o=(t.createLayer("GrassLayer",i),t.createLayer("SpanLayer",a),t.createLayer("PropsLayer",r)),s=t.createLayer("BushesLayer",n),c=t.createLayer("PlantLayer",n),u=t.createLayer("Plant2Layer",n),l=t.createLayer("Plant3Layer",n),p=t.createLayer("Plant4Layer",n),f=t.createLayer("Plant5Layer",n),d=t.createLayer("Plant6Layer",n);o.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,o,this.HitLayer.bind(this)),c.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,c,this.HitLayer.bind(this)),u.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,u,this.HitLayer.bind(this)),l.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),p.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),f.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),d.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,d,this.HitLayer.bind(this)),s.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,s,this.HitLayer.bind(this));var y=this.cameras.main;y.startFollow(this.player),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManagerOnHorse.create(),this.player.setDepth(10),o.setDepth(11),s.setDepth(12),c.setDepth(13),u.setDepth(14),l.setDepth(15),p.setDepth(16),f.setDepth(17),d.setDepth(18),this.script=this.cache.json.get("scriptDataHorse");var h=t.getObjectLayer("ScriptLayer");h&&h.objects&&h.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=ri(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.cursors.left.isDown?this.player.SetInstruction({action:"walk",option:"left"}):this.cursors.right.isDown&&this.player.SetInstruction({action:"walk",option:"right"}),this.cursors.up.isDown?this.player.SetInstruction({action:"walk",option:"back"}):this.cursors.down.isDown&&this.player.SetInstruction({action:"walk",option:"front"}),this.player.update(),this.Dialog.visible)return player.body.velocity.x=0,player.body.velocity.y=0,this.cursors.space.isDown&&this.Dialog.display(!1),!1}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&this.scene.start(t.properties.portal)}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&ii(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function ui(e){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui(e)}function li(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==ui(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===ui(n)?n:String(n)),r)}var n}var pi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.scene=t)}var t,i;return t=e,(i=[{key:"preload",value:function(){this.scene.load.atlas("HarapAlb","src/assets/Player/HarapAlb.png","src/assets/Player/HarapAlb.json")}},{key:"create",value:function(){var e=this.scene.anims;e.create({key:"HarapAlb-walk-left",frames:e.generateFrameNames("HarapAlb",{prefix:"HarapAlb-walk-left.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"HarapAlb-walk-right",frames:e.generateFrameNames("HarapAlb",{prefix:"HarapAlb-walk-right.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"HarapAlb-walk-front",frames:e.generateFrameNames("HarapAlb",{prefix:"HarapAlb-walk-front.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1}),e.create({key:"HarapAlb-walk-back",frames:e.generateFrameNames("HarapAlb",{prefix:"HarapAlb-walk-back.",start:0,end:3,zeroPad:3}),frameRate:5,repeat:-1})}},{key:"destroy",value:function(){this.scene.anims.remove("HarapAlb-walk-left"),this.scene.anims.remove("HarapAlb-walk-right"),this.scene.anims.remove("HarapAlb-walk-front"),this.scene.anims.remove("HarapAlb-walk-back")}}])&&li(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function di(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yi(r.key),r)}}function yi(e){var t=function(e,t){if("object"!==fi(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===fi(t)?t:String(t)}function hi(e,t){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hi(e,t)}function mi(e,t){if(t&&("object"===fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bi(e)}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gi(e)}var vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gi(r);if(n){var i=gi(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return mi(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene1")).cursors=null,e.player=null,e.animsManager=new pi(bi(e)),e}return t=o,(i=[{key:"preload",value:function(){this.load.image("tilesCastle","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles2Castle","src/assets/World/PlantTiles.png"),this.load.image("tiles3Castle","src/assets/World/FenceTiles.png"),this.load.image("tiles5Castle","src/assets/World/StoneTiles.png"),this.load.image("tiles6Castle","src/assets/World/PropsTiles.png"),this.load.image("tiles7Castle","src/assets/World/StructureTiles.png"),this.load.image("tiles8Castle","src/assets/World/WallsTiles2.png"),this.load.tilemapTiledJSON("mapCastle","src/assets/Scene1/Scene1.json"),this.animsManager.preload(),this.load.json("scriptData","src/assets/Interactions/script.json")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"HarapAlb",image:"HarapAlb",speed:200}),this.player.setTexture("HarapAlb","HarapAlb-front");var t=this.make.tilemap({key:"mapCastle"}),i=t.addTilesetImage("SimpleGrassTiles","tilesCastle"),r=t.addTilesetImage("StoneTiles","tiles5Castle"),n=t.addTilesetImage("StructureTiles","tiles7Castle"),a=t.addTilesetImage("FenceTiles","tiles3Castle"),o=t.addTilesetImage("PropsTiles","tiles6Castle"),s=t.addTilesetImage("PlantTiles","tiles2Castle"),c=t.addTilesetImage("WallsTiles2","tiles8Castle"),u=t.createLayer("PortalLayer",o),l=(t.createLayer("GrassLayer",i),t.createLayer("OuterWallsLayer",r),t.createLayer("WallsLayer",c)),p=t.createLayer("PropLayer",o),f=t.createLayer("FenceLayer",a),d=t.createLayer("GateLayer",o),y=t.createLayer("UpperTilesLayer",r),h=t.createLayer("UpperWallsLayer",c),m=t.createLayer("PlantLayer",s),b=t.createLayer("PlantTreeLayer",s);t.createLayer("StairsLayer",n),u.setCollisionByProperty({collide:!0}),l.setCollisionByProperty({collide:!0}),f.setCollisionByProperty({collide:!0}),p.setCollisionByProperty({collide:!0}),m.setCollisionByProperty({collide:!0}),b.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,u,this.HitLayer.bind(this)),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),this.physics.add.collider(this.player,m,this.HitLayer.bind(this)),this.physics.add.collider(this.player,b,this.HitLayer.bind(this));var g=this.cameras.main;g.startFollow(this.player),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManager.create(),this.player.setDepth(10),m.setDepth(11),b.setDepth(12),d.setDepth(13),y.setDepth(14),h.setDepth(15),this.script=this.cache.json.get("scriptData");var v=t.getObjectLayer("ScriptLayer");v&&v.objects&&v.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=yi(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.Dialog.visible){if(this.Dialog.visible)return this.cursors.space.isDown&&this.Dialog.display(!1),!1}else this.cursors.left.isDown?this.player.SetInstruction({action:"walk",option:"left"}):this.cursors.right.isDown&&this.player.SetInstruction({action:"walk",option:"right"}),this.cursors.up.isDown?this.player.SetInstruction({action:"walk",option:"back"}):this.cursors.down.isDown&&this.player.SetInstruction({action:"walk",option:"front"}),this.player.update()}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&(1!==this.registry.get("ExitAttic")&&"Cutscene4"!=t.properties.portal?this.scene.start(t.properties.portal):1==this.registry.get("ExitAttic")&&(this.animsManager.destroy(),this.scene.start(t.properties.portal)))}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&di(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function Oi(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pi(r.key),r)}}function Pi(e){var t=function(e,t){if("object"!==wi(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===wi(t)?t:String(t)}function Si(e,t){return Si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Si(e,t)}function ki(e,t){if(t&&("object"===wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ji(e)}function ji(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bi(e){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bi(e)}var Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Si(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bi(r);if(n){var i=Bi(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ki(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene2")).cursors=null,e.player=null,e.animsManagerOnHorse=new zt(ji(e)),e}return t=o,(i=[{key:"preload",value:function(){this.load.image("tilesOutsideCastle","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles1OutsideCastle","src/assets/World/BridgeTiles.png"),this.load.image("tiles2OutsideCastle","src/assets/World/PlantTiles.png"),this.load.image("tiles3OutsideCastle","src/assets/World/FenceTiles.png"),this.load.image("tiles5OutsideCastle","src/assets/World/StoneTiles.png"),this.load.image("tiles6OutsideCastle","src/assets/World/PropsTiles.png"),this.load.image("tiles7OutsideCastle","src/assets/World/StructureTiles.png"),this.load.image("tiles8OutsideCastle","src/assets/World/WallsTiles2.png"),this.load.image("tiles9OutsideCastle","src/assets/World/WaterTiles.png"),this.load.tilemapTiledJSON("mapOutsideCastle","src/assets/Scene2/Scene2.json"),this.animsManagerOnHorse.preload(),this.load.json("scriptDataHorse","src/assets/Interactions/scriptOnHorse.json"),this.load.audio("music3","src/assets/music/OmuleCatAiTrai.mp3")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.animsManagerOnHorse.create(),this.sound.get("music2").stop(),this.music3=this.sound.add("music3",{volume:.2,loop:!0}),this.music3.play(),this.sound.locked?this.sound.once(Phaser.Sound.Events.UNLOCKED,(function(){e.music3.play()})):this.music3.play(),this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"horse",image:"horse",speed:270}),this.player.setTexture("horse","horse-front");var t=this.make.tilemap({key:"mapOutsideCastle"}),i=t.addTilesetImage("SimpleGrassTiles","tilesOutsideCastle"),r=t.addTilesetImage("StoneTiles","tiles5OutsideCastle"),n=t.addTilesetImage("PropsTiles","tiles6OutsideCastle"),a=t.addTilesetImage("PlantTiles","tiles2OutsideCastle"),o=t.addTilesetImage("WallsTiles2","tiles8OutsideCastle"),s=t.addTilesetImage("StructureTiles","tiles7OutsideCastle"),c=t.addTilesetImage("NearWaterTiles","tiles9OutsideCastle"),u=t.addTilesetImage("BridgeTiles","tiles1OutsideCastle"),l=(t.createLayer("GrassLayer",i),t.createLayer("OuterWallsLayer",r),t.createLayer("OuterGrassLayer",a),t.createLayer("WallsLayer",o)),p=t.createLayer("GateLayer",s),f=t.createLayer("PlantLayer",a),d=t.createLayer("PlantTreeLayer",a),y=t.createLayer("WaterLayer",c),h=t.createLayer("BridgeLayer",u),m=t.createLayer("OuterBridgeLayer",u),b=t.createLayer("PropsLayer",n);p.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),l.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),f.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),d.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,d,this.HitLayer.bind(this)),y.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,y,this.HitLayer.bind(this)),h.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,h,this.HitLayer.bind(this)),b.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,b,this.HitLayer.bind(this)),m.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,m,this.HitLayer.bind(this));var g=this.cameras.main;g.startFollow(this.player),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.player.setDepth(10),f.setDepth(11),d.setDepth(12),this.script=this.cache.json.get("scriptDataHorse");var v=t.getObjectLayer("ScriptLayer");v&&v.objects&&v.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Pi(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.cursors.left.isDown?this.player.SetInstruction({action:"walk",option:"left"}):this.cursors.right.isDown&&this.player.SetInstruction({action:"walk",option:"right"}),this.cursors.up.isDown?this.player.SetInstruction({action:"walk",option:"back"}):this.cursors.down.isDown&&this.player.SetInstruction({action:"walk",option:"front"}),this.player.update(),this.Dialog.visible)return player.body.velocity.x=0,player.body.velocity.y=0,this.cursors.space.isDown&&this.Dialog.display(!1),!1}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&this.scene.start(t.properties.portal,{x:100,y:500})}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&Oi(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function xi(e){return xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xi(e)}function Di(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ci(r.key),r)}}function Ci(e){var t=function(e,t){if("object"!==xi(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===xi(t)?t:String(t)}function Li(e,t){return Li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Li(e,t)}function _i(e,t){if(t&&("object"===xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ei(e)}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e){return Ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ri(e)}var Hi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Li(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ri(r);if(n){var i=Ri(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return _i(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene1Attic")).cursors=null,e.player=null,e.animsManager=new pi(Ei(e)),e.vision=null,e}return t=o,(i=[{key:"preload",value:function(){this.load.image("tilesAttic","src/assets/World/InteriorTiles.png"),this.load.image("tiles2Attic","src/assets/World/PropsTiles.png"),this.load.tilemapTiledJSON("mapAttic","src/assets/Scene1/attic.json"),this.animsManager.preload(),this.load.json("scriptData","src/assets/Interactions/script.json"),this.load.image("vision","src/assets/World/Vision.png")}},{key:"create",value:function(){var e=this;this.registry.set("ExitAttic",1),this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:560,y:550,name:"HarapAlb",image:"HarapAlb",speed:200}),this.player.setTexture("HarapAlb","HarapAlb-front");var t=this.make.tilemap({key:"mapAttic"}),i=t.addTilesetImage("InteriorTiles","tilesAttic"),r=t.addTilesetImage("PropsTiles","tiles2Attic"),n=t.createLayer("PortalLayer",r),a=t.createLayer("InteriorLayer",i),o=t.createLayer("Interior2Layer",i),s=t.createLayer("FamiliarLayer",r),c=t.createLayer("Familiar2Layer",r),u=t.createLayer("Interior3Layer",i);a.setCollisionByProperty({collide:!0}),o.setCollisionByProperty({collide:!0}),n.setCollisionByProperty({collide:!0}),s.setCollisionByProperty({collide:!0}),c.setCollisionByProperty({collide:!0}),u.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,n,this.HitLayer.bind(this)),this.physics.add.collider(this.player,a,this.HitLayer.bind(this)),this.physics.add.collider(this.player,o,this.HitLayer.bind(this)),this.physics.add.collider(this.player,s,this.HitLayer.bind(this)),this.physics.add.collider(this.player,c,this.HitLayer.bind(this)),this.physics.add.collider(this.player,u,this.HitLayer.bind(this));var l=this.scale.width,p=this.scale.height,f=this.make.renderTexture({width:l,height:p},!0);f.fill(0,1),f.draw(a),f.setTint(665928);var d=this.vision=this.make.image({x:this.player.x,y:this.player.y,key:"vision",add:!1});d.scale=1.15,f.mask=new Phaser.Display.Masks.BitmapMask(this,d),f.mask.invertAlpha=!0;var y=this.cameras.main;y.startFollow(this.player),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),y.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManager.create(),this.player.setDepth(10),o.setDepth(11),s.setDepth(12),c.setDepth(13),u.setDepth(14),f.setDepth(15),this.script=this.cache.json.get("scriptData");var h=t.getObjectLayer("ScriptLayer");h&&h.objects&&h.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Ci(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.Dialog.visible){if(this.Dialog.visible)return this.cursors.space.isDown&&this.Dialog.display(!1),!1}else this.cursors.left.isDown?this.player.SetInstruction({action:"walk",option:"left"}):this.cursors.right.isDown&&this.player.SetInstruction({action:"walk",option:"right"}),this.cursors.up.isDown?this.player.SetInstruction({action:"walk",option:"back"}):this.cursors.down.isDown&&this.player.SetInstruction({action:"walk",option:"front"}),this.player.update();this.vision&&(this.vision.x=this.player.x,this.vision.y=this.player.y)}},{key:"HitLayer",value:function(e,t){var i=this;t.properties.portal&&!this.Dialog.visible&&(this.scene.start(t.properties.portal),this.scene.get("Cutscene3").events.once("start",(function(){i.scene.shutdown()})))}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&Di(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(),Ii=function(e){return Math.floor(Math.random()*Math.floor(e))};function Ai(e){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(e)}function zi(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==Ai(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===Ai(n)?n:String(n)),r)}var n}var Wi,Gi,Fi=function(){function e(t){var i=t.key,r=t.gameScene,n=t.x,a=t.y,o=t.handler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=i,this.gameScene=r,this.handler=o,this.outOfTheGame=!1,this.draw(n,a)}var t,i;return t=e,(i=[{key:"draw",value:function(e,t){this.frontbg=this.gameScene.add.sprite(e,t,"front.png").setInteractive(),this.cover=this.gameScene.add.sprite(e,t,"back.png").setInteractive(),this.front=this.gameScene.add.sprite(e,t,this.key).setInteractive(),this.cover.on("pointerdown",this.onClickHandler.bind(this)),this.front.on("pointerdown",this.onClickHandler.bind(this)),this.faceDown()}},{key:"readOnly",value:function(){this.outOfTheGame=!0}},{key:"isVisible",value:function(){return this.front.visible}},{key:"faceDown",value:function(){this.outOfTheGame||(this.frontbg.visible=!1,this.front.visible=!1,this.cover.visible=!0)}},{key:"faceUp",value:function(){this.outOfTheGame||(this.frontbg.visible=!0,this.front.visible=!0,this.cover.visible=!1)}},{key:"onClickHandler",value:function(){this.handler(this)}}])&&zi(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Mi=(Wi=i(93),Gi={},Wi.keys().map((function(e){Gi[e.replace("./","")]=Wi(e)})),console.log(Gi),Gi),Ni=i(791);function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function Ki(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Xi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(i),!0).forEach((function(t){Yi(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ki(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Yi(e,t,i){return(t=Ji(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ui(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ji(r.key),r)}}function Ji(e){var t=function(e,t){if("object"!==Vi(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Vi(t)?t:String(t)}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}function $i(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qi(e)}var Zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qi(r);if(n){var i=Qi(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return $i(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Board")).Cards=[],e.selectedCards=[],e.attempts=0,e.waitForNewRound=!1,e.score,e.cursors=null,e.timedEvent,e.text,e}return t=o,(i=[{key:"preload",value:function(){this.load.image("Background",Ni.default),this.loadCards(),this.GameInfo.setText('Pentru ca fiul craiului să învingă acest urs, trebuie completat "Jocul de memorie". Trebuie să găsești perechi de cărți cu aceeași imagine în cel mult 13 de secunde! '),this.load.audio("music4","src/assets/music/TurningDance.mp3")}},{key:"create",value:function(){var e=this;this.music4=this.sound.add("music4",{volume:.2,loop:!0}),this.music4.play(),this.sound.locked?this.sound.once(Phaser.Sound.Events.UNLOCKED,(function(){e.music4.play()})):this.music4.play(),this.Background=this.add.image(10,10,"Background"),R.ScaleToGameW(this.game,this.Background,1),R.center(this.game,this.Background),this.text=this.add.text(32,32),this.cursors=this.input.keyboard.createCursorKeys(),this.shuffle()}},{key:"update",value:function(){if(this.GameInfo.visible)return this.cursors.space.isDown&&(this.restartGame(),this.timedEvent=this.time.delayedCall(14e3,this.onEvent,[],this),this.GameInfo.display(!1),this.Background.clearTint()),!1;this.text.setText("Timp rămas: "+this.timedEvent.getProgress().toString().substr(0,4))}},{key:"loadCards",value:function(){var e=Object.keys(Mi).map((function(e){return{key:e,url:Mi[e].default}}));this.load.image(e)}},{key:"cardClickHandler",value:function(e){if(!this.GameInfo.visible){if(this.waitForNewRound||e.out||this.selectedCards.includes(e))return;e.faceUp(),this.selectedCards.push(e),2===this.selectedCards.length&&this.newRound()}}},{key:"newRound",value:function(){var e=this;this.waitForNewRound=!0,setTimeout((function(){e.matchCards()?e.setAsReadOnly():e.faceCardsDown(),e.updateScore(),e.selectedCards.length=0,e.waitForNewRound=!1,e.attempts++}),1e3)}},{key:"matchedCards",value:function(){return this.Cards.filter((function(e){return e.outOfTheGame})).length/2}},{key:"updateScore",value:function(){var e=this;this.score||(this.score=this.add.text(0,400,"",{font:"bold 32px Arial",fill:"#fff",boundsAlignH:"center",boundsAlignV:"middle"})),this.attempts&&(this.matchedCards()/this.attempts*100).toFixed(0),4===this.matchedCards()&&setTimeout((function(){e.scene.start("Cutscene6")}),300)}},{key:"setAsReadOnly",value:function(){this.selectedCards.forEach((function(e){return e.readOnly()}))}},{key:"faceCardsDown",value:function(){this.selectedCards.forEach((function(e){return e.faceDown()}))}},{key:"matchCards",value:function(){if(this.selectedCards.length){var e=this.selectedCards[0],t=this.selectedCards[1];return e.key===t.key}}},{key:"onEvent",value:function(){this.restartGame(),this.Background.setTint(16711680),this.GameInfo.setText("Din păcate, fiul craiului nu a putut rămane concentrat... Hai să încercăm din nou!")}},{key:"restartGame",value:function(){this.selectedCards.length=0,this.Cards.forEach((function(e){e.faceDown(),e.outOfTheGame=!1})),this.shuffle()}},{key:"shuffle",value:function(){for(var e=this.game.config.width/3.5,t=this.game.config.height/4,i=parseInt(2)+1,r=[],n=Object.keys(Mi).filter((function(e){return e.includes("card")})).slice(0,4),a=8,o=0;o<i;o++)for(var s=0;s<4;s++)a>0&&r.push({x:e+200*s,y:t+200*o}),a--;for(;r.length;){var c=r.splice(Ii(r.length),1)[0],u=r.splice(Ii(r.length),1)[0],l=n.splice(Ii(n.length),1)[0];this.Cards.push(new Fi(Xi(Xi({key:l,gameScene:this},c),{},{handler:this.cardClickHandler.bind(this)}))),this.Cards.push(new Fi(Xi(Xi({key:l,gameScene:this},u),{},{handler:this.cardClickHandler.bind(this)})))}}}])&&Ui(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const er=i.p+"72b7bc2f032e92ac2c6a556ed95f1d08.jpg",tr=i.p+"1619a275341664f32964b6b1308052b5.png",ir=i.p+"aa91a45aff9e3a5258b6cf76d8c2c572.png";function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function nr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==rr(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===rr(n)?n:String(n)),r)}var n}function ar(e,t){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ar(e,t)}function or(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sr(e){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sr(e)}var cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sr(r);if(n){var i=sr(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return or(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"QuickMath")).cursors=null,e.gameOptions={maxSumLen:5,localStorageName:"oneplustwo",timeToAnswer:6500,nextLevel:500},e}return t=o,(i=[{key:"preload",value:function(){this.load.image("Background",er),this.load.image("timebar",tr),this.load.spritesheet("buttons",ir,{frameWidth:400,frameHeight:50}),this.load.audio("music6","src/assets/music/TheCask.mp3")}},{key:"create",value:function(){var e=this;this.sound.get("music5").stop(),this.music6=this.sound.add("music6",{volume:.1,loop:!0}),this.music6.play(),this.sound.locked?this.sound.once(Phaser.Sound.Events.UNLOCKED,(function(){e.music6.play()})):this.music6.play(),this.Background=this.add.image(10,10,"Background"),R.ScaleToGameW(this.game,this.Background,1),R.center(this.game,this.Background),this.cursors=this.input.keyboard.createCursorKeys(),this.GameInfo.setText("Pentru ca fiul craiului să scape, trebuie să obți un scor mai mare de 2000 la acest joc de aritmetică! Trebuie să apeși pe răspunsul corect înainte să se scurgă timpul! Nu ceda!")}},{key:"update",value:function(){if(this.GameInfo.visible)return this.cursors.space.isDown&&(this.GameInfo.display(!1),this.restartGame()),!1}},{key:"restartGame",value:function(){this.Background.clearTint(),this.questionText&&this.questionText.destroy(),this.scoreText&&this.scoreText.destroy(),this.isGameOver=!1,this.score=0,this.correctAnswers=0,this.topScore=null==localStorage.getItem(this.localStorageName)?0:localStorage.getItem(this.gameOptions.localStorageName),this.sumsArray=[];for(var e=1;e<this.gameOptions.maxSumLen;e++){this.sumsArray[e]=[[],[],[]];for(var t=1;t<=3;t++)this.buildThrees(t,1,e,t)}for(this.questionText=this.add.text(250,160,"-",{font:"bold 72px Arial"}),this.questionText.setOrigin(.5),this.questionText.setPosition(this.game.config.width/2,this.game.config.height/3.7),this.scoreText=this.add.text(10,10,"-",{font:"bold 24px Arial"}),e=0;e<3;e++){var i=this.add.sprite(this.game.config.width/2,250+75*e,"buttons");i.setFrame(e),i.setInteractive(),i.on("pointerdown",this.checkAnswer)}var r=this.add.sprite(this.game.config.width/2,325,"timebar");this.buttonMask=this.add.sprite(this.game.config.width/2,r.y,"timebar"),this.buttonMask.setVisible(!1);var n=this.buttonMask.createBitmapMask();r.setMask(n),this.nextNumber()}},{key:"buildThrees",value:function(e,t,i,r){for(var n=[-3,-2,-1,1,2,3],a=0;a<n.length;a++){var o=e+n[a],s=r+(n[a]<0?"":"+")+n[a];o>0&&o<4&&t==i&&this.sumsArray[i][o-1].push(s),t<i&&this.buildThrees(o,t+1,i,s)}}},{key:"nextNumber",value:function(){this.scoreText.setText("Score: "+this.score.toString()+"\nBest Score: "+this.topScore.toString()),this.correctAnswers>1&&(this.timeTween.stop(),this.buttonMask.x=this.game.config.width/2),this.correctAnswers>0&&(this.timeTween=this.tweens.add({targets:this.buttonMask,x:-150,duration:this.gameOptions.timeToAnswer,callbackScope:this,onComplete:function(){this.gameOver("?")}})),this.randomSum=Phaser.Math.Between(0,2);var e=Math.min(Math.floor(this.score/this.gameOptions.nextLevel)+1,4);this.questionText.setText(this.sumsArray[e][this.randomSum][Phaser.Math.Between(0,this.sumsArray[e][this.randomSum].length-1)])}},{key:"checkAnswer",value:function(){this.scene.isGameOver||(this.frame.name==this.scene.randomSum?(this.scene.score+=Math.floor((this.scene.buttonMask.x+350)/4),this.scene.correctAnswers++,this.scene.nextNumber()):(this.scene.correctAnswers>1&&this.scene.timeTween.stop(),this.scene.gameOver(this.frame.name+1)))}},{key:"gameOver",value:function(e){this.Background.setTint(16711680),this.questionText.setText(this.questionText.text+" = "+e),this.isGameOver=!0,localStorage.setItem(this.gameOptions.localStorageName,Math.max(this.score,this.topScore)),this.score>2e3&&this.scene.start("Cutscene10"),this.GameInfo.setText("Din păcate, fiul craiului nu a reușit... Hai să încercăm din nou!")}}])&&nr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function lr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==ur(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===ur(n)?n:String(n)),r)}var n}function pr(e,t){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pr(e,t)}function fr(e,t){if(t&&("object"===ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dr(e){return dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dr(e)}var yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pr(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dr(r);if(n){var i=dr(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return fr(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"Cutscene10")}return t=o,(i=[{key:"preload",value:function(){this.load.image("B48",jt),this.load.image("B49",Bt),this.load.image("B50",Pt),this.load.image("B51",xt),this.load.image("B52",Dt)}},{key:"create",value:function(){var e=this,t=["Fiul craiului ce era să facă? Îi spune cu de-amănuntul, căci, dă, care om nu ține la viață înainte de toate?","— Bine, atâta am vrut să aflu din gura ta, pui de viperă ce mi-ai fost, zice atunci Spânul: numai cată să fie așa, că, de te-oi prinde cu oca mică, greu are să-ți cadă. Chiar acum aș putea să te omor, în voia cea bună, dar mi-i milă de tinerețile tale... Dacă vrei să mai vezi soarele cu ochii și să mai calci pe iarbă verde, atunci jură-mi-te pe ascuțișul paloșului tău că mi-i da ascultare și supunere întru toate, chiar și-n foc de ți-aș zice să te arunci.","Și, de azi înainte, eu o să fiu în locul tău nepotul împăratului, despre care mi-ai vorbit, iară tu — sluga mea; și atâta vreme să ai a mă sluji, până când îi muri și iar îi învia. Și oriunde vei merge cu mine, nu care cumva să bleștești din gură către cineva despre ceea ce a urmat între noi, că te-am șters de pe fața pământului. Îți place așa să mai trăiești, bine-de-bine; iară de nu, spune-mi verde în ochi, ca să știu ce leac trebuie să-ți fac...","Fiul craiului, văzându-se prins în clește și fără nici o putere, îi jură credință și supunere întru toate, lăsându-se în știrea lui Dumnezeu, cum a vrea el să facă. Atunci Spânul pune mâna pe cartea, pe banii și pe armele fiului de crai și le ia la sine; apoi îl scoate din fântână și-i dă paloșul să-l sărute, ca semn de pecetluire a jurământului, zicând: ","— De-acum înainte să știi că te cheamă Harap-Alb; aista ți-i numele, și altul nu.","După aceasta încalecă, fiecare pe calul său, și pornesc, Spânul înainte, ca stăpân, Harap-Alb în urmă, ca slugă, mergând spre împărăție, Dumnezeu să ne ție, că cuvântul din poveste, înainte mult mai este."],i=["B49","B48","B48","B50","B51","B52"],r=0;this.Background=this.add.image(10,10,i[r]),this.Dialog.setText(t[r]),R.ScaleToGameW(this.game,this.Background,.8),R.center(this.game,this.Background),this.input.keyboard.on("keydown-SPACE",(function(){e.Background.destroy(),++r>=t.length&&(window.alert("End Of Demo!"),e.scene.start("Main")),e.Background=e.add.image(10,10,i[r]),e.Dialog.setText(t[r]),R.ScaleToGameW(e.game,e.Background,.8),R.center(e.game,e.Background)}))}},{key:"update",value:function(){}}])&&lr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function hr(e){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(e)}function mr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,n=function(e,t){if("object"!==hr(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==hr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===hr(n)?n:String(n)),r)}var n}function br(e,t){return br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},br(e,t)}function gr(e,t){if(t&&("object"===hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vr(e){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vr(e)}var wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&br(e,t)}(o,e);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vr(r);if(n){var i=vr(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return gr(this,e)});function o(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(i=a.call(this,e,t)).scene=e,i.systems=e.sys,i.borderThickness=3,i.borderColor=16777215,i.borderAlpha=.5,i.windowAlpha=.85,i.windowColor=0,i.windowHeight=100,i.padding=32,i.dialogSpeed=20,i.scrollFactor=0,i.visible=!1,i.graphics={background:null,text:null},i}return t=o,(i=[{key:"boot",value:function(){this._drawBackground(),this._drawText(),this.display(!1),this.systems.events.on("shutdown",this.shutdown,this)}},{key:"shutdown",value:function(){this.timedEvent&&this.timedEvent.remove(),this.graphics.text&&this.graphics.text.destroy()}},{key:"destroy",value:function(){this.shutdown(),this.scene=void 0}},{key:"display",value:function(e){this.visible=void 0===e?!this.visible:e,this.graphics.text&&(this.graphics.text.visible=this.visible),this.graphics.background&&(this.graphics.background.visible=this.visible)}},{key:"setText",value:function(e){var t=this;if(e&&e.split){this.timedEvent&&this.timedEvent.remove(),this.display(!0);var i=e.split("");this.graphics.text.setText(""),this.timedEvent=this.scene.time.addEvent({delay:150-30*this.dialogSpeed,callback:function(e){t.graphics.text.setText(t.graphics.text.text+e[t.graphics.text.text.length]),t.graphics.text.text.length===e.length&&t.timedEvent.remove()},args:[i],callbackScope:this,loop:!0})}}},{key:"_calculateWindowDimensions",value:function(){var e=this.scene.sys.game.config.height,t=this.scene.sys.game.config.width;return{x:this.padding,y:e-this.windowHeight-this.padding,width:t-2*this.padding,height:this.windowHeight}}},{key:"_drawBackground",value:function(){var e=this._calculateWindowDimensions();this.graphics.background=this.scene.add.graphics().setScrollFactor(this.scrollFactor),this.graphics.background.lineStyle(this.borderThickness,this.borderColor,this.borderAlpha),this.graphics.background.fillStyle(this.windowColor,this.windowAlpha),this.graphics.background.strokeRoundedRect(e.x,e.y,e.width,e.height,5),this.graphics.background.fillRoundedRect(e.x,e.y,e.width,e.height,5),this.graphics.background.setDepth(1e3)}},{key:"_drawText",value:function(){var e=this._calculateWindowDimensions(),t=e.x+this.padding,i=e.y+.5*this.padding;this.graphics.text=this.scene.make.text({x:t,y:i,text:"",style:{wordWrap:{width:e.width-this.padding},fontFamily:"Dancing Script",fontSize:"25.5px",lineSpacing:"12"}}).setScrollFactor(this.scrollFactor),this.graphics.text.setDepth(1010)}}])&&mr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(n().Plugins.ScenePlugin);function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function Pr(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sr(r.key),r)}}function Sr(e){var t=function(e,t){if("object"!==Or(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t);if("object"!==Or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Or(t)?t:String(t)}function kr(e,t){return kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kr(e,t)}function jr(e,t){if(t&&("object"===Or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Br(e)}function Br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tr(e){return Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tr(e)}var xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kr(e,t)}(o,Phaser.Scene);var t,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tr(r);if(n){var i=Tr(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return jr(this,e)});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,"Scene2AfterBridge")).cursors=null,e.player=null,e.animsManagerOnHorse=new zt(Br(e)),e}return t=o,(i=[{key:"preload",value:function(){this.load.image("tilesOutsideCastle","src/assets/World/SimpleGrassTiles.png"),this.load.image("tiles1OutsideCastle","src/assets/World/BridgeTiles.png"),this.load.image("tiles2OutsideCastle","src/assets/World/PlantTiles.png"),this.load.image("tiles3OutsideCastle","src/assets/World/FenceTiles.png"),this.load.image("tiles5OutsideCastle","src/assets/World/StoneTiles.png"),this.load.image("tiles6OutsideCastle","src/assets/World/PropsTiles.png"),this.load.image("tiles7OutsideCastle","src/assets/World/StructureTiles.png"),this.load.image("tiles8OutsideCastle","src/assets/World/WallsTiles2.png"),this.load.image("tiles9OutsideCastle","src/assets/World/WaterTiles.png"),this.load.tilemapTiledJSON("mapOutsideCastle","src/assets/Scene2/Scene2.json"),this.animsManagerOnHorse.preload(),this.load.json("scriptDataHorse","src/assets/Interactions/scriptOnHorse.json")}},{key:"init",value:function(e){this.spawnX=e.x,this.spawnY=e.y}},{key:"create",value:function(){var e=this;this.cursors=this.input.keyboard.createCursorKeys(),window.player=this.player=this.add.character({x:this.spawnX,y:this.spawnY,name:"horse",image:"horse",speed:270}),this.player.setTexture("horse","horse-front");var t=this.make.tilemap({key:"mapOutsideCastle"}),i=t.addTilesetImage("SimpleGrassTiles","tilesOutsideCastle"),r=t.addTilesetImage("StoneTiles","tiles5OutsideCastle"),n=t.addTilesetImage("PropsTiles","tiles6OutsideCastle"),a=t.addTilesetImage("PlantTiles","tiles2OutsideCastle"),o=t.addTilesetImage("WallsTiles2","tiles8OutsideCastle"),s=t.addTilesetImage("StructureTiles","tiles7OutsideCastle"),c=t.addTilesetImage("NearWaterTiles","tiles9OutsideCastle"),u=t.addTilesetImage("BridgeTiles","tiles1OutsideCastle"),l=(t.createLayer("GrassLayer",i),t.createLayer("OuterWallsLayer",r),t.createLayer("OuterGrassLayer",a),t.createLayer("WallsLayer",o)),p=t.createLayer("GateLayer",s),f=t.createLayer("PlantLayer",a),d=t.createLayer("PlantTreeLayer",a),y=t.createLayer("WaterLayer",c),h=t.createLayer("BridgeLayer",u),m=t.createLayer("OuterBridgeLayer",u),b=t.createLayer("PropsLayer",n);p.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,p,this.HitLayer.bind(this)),l.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,l,this.HitLayer.bind(this)),f.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,f,this.HitLayer.bind(this)),d.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,d,this.HitLayer.bind(this)),y.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,y,this.HitLayer.bind(this)),h.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,h,this.HitLayer.bind(this)),b.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,b,this.HitLayer.bind(this)),m.setCollisionByProperty({collide:!0}),this.physics.add.collider(this.player,m,this.HitLayer.bind(this));var g=this.cameras.main;g.startFollow(this.player),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),g.setBounds(0,0,t.widthInPixels,t.heightInPixels),this.animsManagerOnHorse.create(),this.player.setDepth(10),f.setDepth(11),d.setDepth(12),this.script=this.cache.json.get("scriptDataHorse");var v=t.getObjectLayer("ScriptLayer");v&&v.objects&&v.objects.forEach((function(t){var i=e.add.rectangle(t.x+t.width/2,t.y+t.height/2,t.width,t.height);i.properties=t.properties.reduce((function(e,t){return Object.assign(e,function(e,t,i){return(t=Sr(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t.name,t.value))}),{}),e.physics.world.enable(i,1),e.physics.add.collider(e.player,i,e.HitScript,null,e)}))}},{key:"update",value:function(){if(this.cursors.left.isDown?this.player.SetInstruction({action:"walk",option:"left"}):this.cursors.right.isDown&&this.player.SetInstruction({action:"walk",option:"right"}),this.cursors.up.isDown?this.player.SetInstruction({action:"walk",option:"back"}):this.cursors.down.isDown&&this.player.SetInstruction({action:"walk",option:"front"}),this.player.update(),this.Dialog.visible)return player.body.velocity.x=0,player.body.velocity.y=0,this.cursors.space.isDown&&this.Dialog.display(!1),!1}},{key:"HitLayer",value:function(e,t){t.properties.portal&&!this.Dialog.visible&&this.scene.start(t.properties.portal,{x:100,y:500})}},{key:"HitScript",value:function(e,t){t.properties.name&&!this.Dialog.visible&&(e.anims.stopAfterRepeat(0),this.Dialog.setText(this.script[e.name][t.properties.name]))}}])&&Pr(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();const Dr={type:n().AUTO,parent:"phaser-example",width:1166,height:630,physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},plugins:{global:[{key:"CharacterPlugin",plugin:j,start:!0}],scene:[{key:"Dialog",plugin:l,mapping:"Dialog"},{key:"GameInfo",plugin:wr,mapping:"GameInfo"}]},scene:[G,L,de,vi,Pe,Hi,De,Ae,Zi,Ti,Ke,et,Xt,ct,yt,ei,ci,Ht,cr,yr,xr]};new(n().Game)(Dr)},791:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"3fa93415a16c676f0d021553087a3575.jpg"},766:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"5312427d470bb22855673a67445b935a.png"},585:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"1d2ba745fd14fb371f7351e1a996f572.png"},254:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"06f5008a8e1c08b26e8319902fe4f5cf.png"},593:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"7597c126c85ade25e318dddf30a6aa9e.png"},427:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"519ca455ea14f41cfe7632e0b12b8818.png"},451:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});const r=i.p+"d4a11065e0b88d04adea1add3ae131f0.png"},93:(e,t,i)=>{var r={"./Background.jpg":791,"./back.png":766,"./card1.png":585,"./card2.png":254,"./card3.png":593,"./card4.png":427,"./front.png":451};function n(e){var t=a(e);return i(t)}function a(e){if(!i.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=93}},i={};function r(e){var n=i[e];if(void 0!==n)return n.exports;var a=i[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,i,n,a)=>{if(!i){var o=1/0;for(l=0;l<e.length;l++){for(var[i,n,a]=e[l],s=!0,c=0;c<i.length;c++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](i[c])))?i.splice(c--,1):(s=!1,a<o&&(o=a));if(s){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[i,n,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var n,a,[o,s,c]=i,u=0;if(o.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(c)var l=c(r)}for(t&&t(i);u<o.length;u++)a=o[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},i=self.webpackChunkphaser_bootstrap=self.webpackChunkphaser_bootstrap||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=r.O(void 0,[260],(()=>r(315)));n=r.O(n)})();